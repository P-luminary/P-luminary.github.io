
<!DOCTYPE html>
<html lang="zh_CH ">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>P-luminary || Linux,Redis,Jedis</title>
    <meta name="author" content="Asuna">
    <meta name="description" content=" ">
    <meta name="keywords" content=" ">
    <link rel="icon" href="/https://raw.githubusercontent.com/P-luminary/images/master/data/asuna.jpg">
    <link rel="stylesheet" href="/css/antd.min.css">
    
    <link rel="stylesheet" href="/css/maiden-theme.css">
    
    <script src="/js/vue.js"></script>
    <script src="/js/antd.min.js"></script>
<meta name="generator" content="Hexo 6.1.0"></head>

<body>

    <div id="loading"
        style="height: 100vh; width: 100%; position: fixed;display: flex;z-index: 200; justify-content: space-between;">
        <div id="loadleft" style="width: 50%;background-color: #ffffff;transition: width 0.6s ease-out;"></div>
        <div id="loadright" style="width: 50%;background-color: #ffffff;transition: width 0.6s ease-out;"></div>
        <div
            style="position: fixed; height: 100vh; width: 100%;display: flex;justify-content: center;align-items: center;">
            <div id="loadcontent"
                style="width:400px;height:400px;padding:50px;border-radius:50%;display:flex;justify-content:center;align-items:center;border:solid 10px#a3ddfb; text-align:center;opacity:1;transition:opacity 0.3s ease-out;">
                <div>
                    <h2>LOADING...</h2>
                    <p>加载过慢请开启缓存(浏览器默认开启)</p>
                    <div>
                        <img src="/dancingkitty.gif" alt="loading">
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="layout">
        <transition name="into">
            <div v-show="show_page" style="display: none;">
                <div id="menu_show">
                     
<nav id="menu">
    <div class="desktop-menu">
        <a href="/">
            <span class="title">P-luminary</span>
        </a>
        
        <a href="/">
            <span>
                <a-icon type="home" theme="filled" />
            </span>
            <span>home</span>
        </a>
        
        <a href="/tags/语法">
            <span>
                <a-icon type="tags" theme="filled" />
            </span>
            <span>tags</span>
        </a>
        
    </div>

    <div :class="'phone-menu ' + menu_show" id="phone-menu">
        <div :class="'title'" @click="menu_show=!menu_show">
            <span style="margin-right: 10px;">
                <a-icon type="appstore" theme="filled" />
            </span>
            <span>P-luminary</span>
        </div>
        <div class="items" v-show="menu_show">
            
            <a href="/">
                <div class="item">
                    <div style="min-width:20px; max-width:50px; width: 10%">
                        <a-icon type="home" theme="filled" />
                    </div>
                    <div style="min-width:100px;max-width: 150%;width: 20%;">home</div>
                </div>
            </a>
            
            <a href="/tags/语法">
                <div class="item">
                    <div style="min-width:20px; max-width:50px; width: 10%">
                        <a-icon type="tags" theme="filled" />
                    </div>
                    <div style="min-width:100px;max-width: 150%;width: 20%;">tags</div>
                </div>
            </a>
            
        </div>
        <div class="curtain" v-show="menu_show"></div>
    </div>

</nav>
                </div>

                <div id="main">
                     
<link rel="stylesheet" href="/css/post-body.css">
<div class="article">
    <div>
        <h1>Linux,Redis,Jedis </h1>
    </div>
    <div class="info">
        <span class="date">
            <span class="icon">
                <a-icon type="calendar" theme="filled" />
            </span>
            2023/11/15
        </span>

        

        

        <span class="tags">
            <span class="icon">
                <a-icon type="tags" theme="filled" />
            </span>
            
            <span class="tag">
                
                <a href="/tags/后端" style=color:#00bcd4>
                    后端
                </a>
            </span>
            
        </span>
        
    </div>

    <div class="content" v-pre>
        <h1 id="Linux基础入门"><a href="#Linux基础入门" class="headerlink" title="Linux基础入门"></a>Linux基础入门</h1><h3 id="Linux操作系统"><a href="#Linux操作系统" class="headerlink" title="Linux操作系统"></a>Linux操作系统</h3><ul>
<li><h6 id="介绍Linux与CentOS"><a href="#介绍Linux与CentOS" class="headerlink" title="介绍Linux与CentOS"></a>介绍Linux与CentOS</h6></li>
<li><h6 id="讲解Linux基础"><a href="#讲解Linux基础" class="headerlink" title="讲解Linux基础"></a>讲解Linux基础</h6></li>
<li><h6 id="Linux文本工具与命令"><a href="#Linux文本工具与命令" class="headerlink" title="Linux文本工具与命令"></a>Linux文本工具与命令</h6></li>
<li><h6 id="yum应用安装与卸载"><a href="#yum应用安装与卸载" class="headerlink" title="yum应用安装与卸载"></a>yum应用安装与卸载</h6></li>
<li><h6 id="CentOS的权限与系统安全"><a href="#CentOS的权限与系统安全" class="headerlink" title="CentOS的权限与系统安全"></a>CentOS的权限与系统安全</h6></li>
<li><h6 id="部署OA项目至Linux服务器"><a href="#部署OA项目至Linux服务器" class="headerlink" title="部署OA项目至Linux服务器"></a>部署OA项目至Linux服务器</h6></li>
</ul>
<h3 id="主流操作系统"><a href="#主流操作系统" class="headerlink" title="主流操作系统"></a>主流操作系统</h3><p>不同领域的主流操作系统，主要分为以下这么几类： 桌面操作系统、服务器操作系统、移动设备操作系统、嵌入式操作系统。接下来，这几个领域中，代表性的操作系统是那些?</p>
<p>1). 桌面操作系统</p>
<table>
<thead>
<tr>
<th>操作系统</th>
<th>特点</th>
</tr>
</thead>
<tbody><tr>
<td>Windows</td>
<td>用户数量最多</td>
</tr>
<tr>
<td>MacOS</td>
<td>操作体验好，办公人士首选</td>
</tr>
<tr>
<td>Linux</td>
<td>用户数量少(桌面操作系统,Linux使用较少)</td>
</tr>
</tbody></table>
<p>2). 服务器操作系统</p>
<table>
<thead>
<tr>
<th>操作系统</th>
<th>特点</th>
</tr>
</thead>
<tbody><tr>
<td>Unix</td>
<td>安全、稳定、付费</td>
</tr>
<tr>
<td>Linux</td>
<td>安全、稳定、免费、占有率高</td>
</tr>
<tr>
<td>Windows Server</td>
<td>付费、占有率低</td>
</tr>
</tbody></table>
<p>3). 移动设备操作系统</p>
<table>
<thead>
<tr>
<th>操作系统</th>
<th>特点</th>
</tr>
</thead>
<tbody><tr>
<td>Android</td>
<td>基于 Linux 、开源，主要用于智能手机、平板电脑和智能电视</td>
</tr>
<tr>
<td>IOS</td>
<td>苹果公司开发、不开源，用于苹果公司的产品，例如：iPhone、 iPad</td>
</tr>
</tbody></table>
<p>4). 嵌入式操作系统</p>
<table>
<thead>
<tr>
<th>操作系统</th>
<th>特点</th>
</tr>
</thead>
<tbody><tr>
<td>Linux</td>
<td>机顶盒、路由器、交换机</td>
</tr>
</tbody></table>
<h3 id="2-2-Linux系统版本"><a href="#2-2-Linux系统版本" class="headerlink" title="2.2 Linux系统版本"></a>2.2 Linux系统版本</h3><p>Linux系统的版本分为两种，分别是： 内核版 和 发行版。</p>
<p><strong>1). 内核版</strong></p>
<ul>
<li><p>由Linus Torvalds及其团队开发、维护</p>
</li>
<li><p>免费、开源</p>
</li>
<li><p>负责控制硬件</p>
</li>
</ul>
<p><strong>2). 发行版</strong></p>
<ul>
<li><p>基于Linux内核版进行扩展</p>
</li>
<li><p>由各个Linux厂商开发、维护</p>
</li>
<li><p>有收费版本和免费版本</p>
</li>
</ul>
<p>我们使用Linux操作系统，实际上选择的是Linux的发行版本。在linux系统中，有各种各样的发行版本，具体如下： </p>
<table>
<thead>
<tr>
<th>发行版本</th>
<th>Logo</th>
<th>特点</th>
</tr>
</thead>
<tbody><tr>
<td>Ubuntu</td>
<td><img src="assets/image-20210809001838861.png" alt="image-20210809001838861" style="zoom:50%;" /></td>
<td>以桌面应用为主</td>
</tr>
<tr>
<td>RedHat</td>
<td><img src="assets/image-20210809001731378.png" alt="image-20210809001731378" style="zoom:50%;" /></td>
<td>应用最广泛、收费</td>
</tr>
<tr>
<td><strong>CentOS</strong></td>
<td><img src="assets/image-20210809001741238.png" alt="image-20210809001741238" style="zoom:50%;" /></td>
<td>RedHat的社区版、免费</td>
</tr>
<tr>
<td>openSUSE</td>
<td><img src="assets/image-20210809001750999.png" alt="image-20210809001750999" style="zoom:50%;" /></td>
<td>对个人完全免费、图形界面华丽</td>
</tr>
<tr>
<td>Fedora</td>
<td><img src="assets/image-20210809001800676.png" alt="image-20210809001800676" style="zoom:50%;" /></td>
<td>功能完备、快速更新、免费</td>
</tr>
<tr>
<td>红旗Linux</td>
<td><img src="assets/image-20210809001814942.png" alt="image-20210809001814942" style="zoom:50%;" /></td>
<td>北京中科红旗软件技术有限公司开发</td>
</tr>
</tbody></table>
<p>除了上述罗列出来的发行版，还有很多Linux发行版，这里，我们就不再一一列举了。</p>
<h3 id="什么是操作系统"><a href="#什么是操作系统" class="headerlink" title="什么是操作系统"></a>什么是操作系统</h3><ul>
<li>操作系统(<strong>O</strong>perating <strong>S</strong>ystem)是应用程序运行的基础支撑环境</li>
<li>操作系统作用是管理和控制计算机系统的硬件与软件资源</li>
<li>Intel x86架构上常见的操作系统：Windows、Linux、Unix…</li>
</ul>
<h3 id="Linux操作系统-1"><a href="#Linux操作系统-1" class="headerlink" title="Linux操作系统"></a>Linux操作系统</h3><ul>
<li>Linux是开源的基于Inter x86架构的类Unix多用户操作系统</li>
<li>支持多任务、多用户、多CPU</li>
<li>高效而灵活</li>
<li>兼容任意x86架构计算机</li>
<li>强大易用的系统命令</li>
<li>完整的应用软件生态</li>
</ul>
<h3 id="Linux发行版本"><a href="#Linux发行版本" class="headerlink" title="Linux发行版本"></a>Linux发行版本</h3><ul>
<li>Linux系统内核(kernel)提供了Linux操作系统的核心功能</li>
<li>不同开发商在内核基础上扩展封装，形成了不同发行版本</li>
<li>常见发行版：Red Hat Linux、CentOS、Ubuntu、SUSE…</li>
</ul>
<h3 id="Linux发行版选择建议"><a href="#Linux发行版选择建议" class="headerlink" title="Linux发行版选择建议"></a>Linux发行版选择建议</h3><ul>
<li>桌面系统：Ubuntu</li>
<li>服务器操作系统：**CentOS(免费)**、Red Hat Linux(收费)</li>
<li>特定需求：Debian(稳定性)、Fedoras(新特性)、麒麟Linux(国产)</li>
</ul>
<h3 id="CentOS-社区企业操作系统"><a href="#CentOS-社区企业操作系统" class="headerlink" title="CentOS - 社区企业操作系统"></a>CentOS - 社区企业操作系统</h3><ul>
<li>基于<strong>R</strong>ed <strong>H</strong>at <strong>E</strong>nterprice <strong>L</strong>inux的开源企业级Linux发行版本</li>
<li>各版本CentOS都会获得十年的支持，与RHEL保持同步更新</li>
<li>CentOS采用社区支持，同步修正了RHEL许多BUG</li>
</ul>
<h3 id="CentOS版本选择"><a href="#CentOS版本选择" class="headerlink" title="CentOS版本选择"></a>CentOS版本选择</h3><ul>
<li>CentOS 5&#x2F;6：历史淘汰版本</li>
<li><strong>CentOS 7：主流版本，成熟稳定，大多数服务器的首先版本</strong></li>
<li>CentOS 8：全新版本，全新内核，存在漏洞隐患</li>
</ul>
<h3 id="安装CentOS-7-7"><a href="#安装CentOS-7-7" class="headerlink" title="安装CentOS 7.7"></a>安装CentOS 7.7</h3><p>vmware.com&#x2F;cn.html</p>
<p>VMware-workstation-full-14.1.2-8497320.exe<br>[链接： <a target="_blank" rel="noopener" href="https://pan.baidu.com/s/1EbuhZ4D4kh_NcRJqTA-vhQ">https://pan.baidu.com/s/1EbuhZ4D4kh_NcRJqTA-vhQ</a><br>密码：oq37]</p>
<p>mirrors.aliyun.com&#x2F;centos&#x2F;7.7.1908&#x2F;isos&#x2F;x86_64&#x2F; 下载 Everything-1908.iso<br>[<a target="_blank" rel="noopener" href="https://mirrors.aliyun.com/centos-vault/centos/7.7.1908/isos/x86_64/">centos-vault-centos-7.7.1908-isos-x86_64安装包下载_开源镜像站-阿里云 (aliyun.com)</a>]</p>
<p>VM典型 镜像Iso 存储地址放在最快的硬盘 将虚拟磁盘存储为单个文件 自定义(内存2GB 处理器2核  虚拟化 Intel VT-x)</p>
<h3 id="Linux目录结构"><a href="#Linux目录结构" class="headerlink" title="Linux目录结构"></a>Linux目录结构</h3><p>根目录&#x2F; 下各个目录的作用及含义说明:  </p>
<table>
<thead>
<tr>
<th>编号</th>
<th>目录</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>&#x2F;bin</td>
<td>存放二进制可执行文件</td>
</tr>
<tr>
<td>2</td>
<td>&#x2F;boot</td>
<td>存放系统引导时使用的各种文件</td>
</tr>
<tr>
<td>3</td>
<td>&#x2F;dev</td>
<td>存放设备文件</td>
</tr>
<tr>
<td>4</td>
<td><strong>&#x2F;etc</strong></td>
<td>存放系统配置文件</td>
</tr>
<tr>
<td>5</td>
<td><strong>&#x2F;home</strong></td>
<td>存放系统用户的文件</td>
</tr>
<tr>
<td>6</td>
<td>&#x2F;lib</td>
<td>存放程序运行所需的共享库和内核模块</td>
</tr>
<tr>
<td>7</td>
<td>&#x2F;opt</td>
<td>额外安装的可选应用程序包所放置的位置</td>
</tr>
<tr>
<td>8</td>
<td><strong>&#x2F;root</strong></td>
<td>超级用户目录</td>
</tr>
<tr>
<td>9</td>
<td>&#x2F;sbin</td>
<td>存放二进制可执行文件，只有root用户才能访问</td>
</tr>
<tr>
<td>10</td>
<td>&#x2F;tmp</td>
<td>存放临时文件</td>
</tr>
<tr>
<td>11</td>
<td><strong>&#x2F;usr</strong></td>
<td>存放系统应用程序</td>
</tr>
<tr>
<td>12</td>
<td>&#x2F;var</td>
<td>存放运行时需要改变数据的文件，例如日志文件</td>
</tr>
</tbody></table>
<h3 id="Linux命令格式"><a href="#Linux命令格式" class="headerlink" title="Linux命令格式"></a>Linux命令格式</h3><h6 id="命令-参数选项-文件或路径"><a href="#命令-参数选项-文件或路径" class="headerlink" title="命令 [参数选项] [文件或路径]"></a>命令 [参数选项] [文件或路径]</h6><h5 id="Linux文件操作核心命令"><a href="#Linux文件操作核心命令" class="headerlink" title="Linux文件操作核心命令"></a>Linux文件操作核心命令</h5><table>
<thead>
<tr>
<th>命令</th>
<th>用途</th>
</tr>
</thead>
<tbody><tr>
<td>cd</td>
<td>切换目录</td>
</tr>
<tr>
<td>pwd</td>
<td>查看当前目录</td>
</tr>
<tr>
<td><strong>ls</strong>、ll(详细列表)</td>
<td>显示目录内容</td>
</tr>
<tr>
<td>mkdir</td>
<td>创建目录</td>
</tr>
<tr>
<td><strong>cp</strong></td>
<td>复制文件与目录</td>
</tr>
<tr>
<td><strong>mv</strong></td>
<td>移动或重命名文件</td>
</tr>
<tr>
<td>rm</td>
<td>删除文件或目录</td>
</tr>
<tr>
<td>find</td>
<td>查找目录或文件</td>
</tr>
</tbody></table>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_43585157/article/details/106992907">Xshell连接虚拟机详细教程-CSDN博客</a></p>
<pre><code class="java">按下Tab可以自动提示
输入su 密码root 进入root最高权限

cd ..                 返回上级目录
cd ./local             ./代表当前目录
cd local            到当前目录    

mkdir ./imooc
mkdir -p ./imooc/sample/demo       -p是连续创建多级目录

mkdir -p ./imooc1/sample1
mkdir -p -v./imooc1/sample1     -v是显示执行过程
mkdir -p -v./imooc1/sample1/demo1
=
mkdir -pv ./imooc1/sample1
    
cp Xftp-7.0.014lp.exe ./imooc/sample/demo 文件复制到指定目录
cp -r imooc/sample/demo imooc1/sample1/demo1 复制整个文件夹

cd imooc/sample/demo
mv Xftp-7.0.014lp.exe xftp.exe 重命名
ls

mv xftp.exe /imooc1/sample1/demo1 移动到其他目录
mv demo imooc1/sample1/demo1 移动文件夹到其他目录

cd game/share
rm -r music  y y y    依次删除文件夹中的文件
rm -f music 强制直接删除, 不经过询问
rm -rf music 强制迭代删除            【不要轻易使用】
【ex】 rm -rf / imooc/sample/demo 中间不小心加了空格 就把/后面的整个都删除了

find / -name *.exe 按指定的格式去搜索文件
cd ..
[root@imooc home] find / -name *
</code></pre>
<h3 id="vim文本编辑器"><a href="#vim文本编辑器" class="headerlink" title="vim文本编辑器"></a>vim文本编辑器</h3><h6 id="远程在线文本编辑器"><a href="#远程在线文本编辑器" class="headerlink" title="远程在线文本编辑器"></a>远程在线文本编辑器</h6><ul>
<li>vi是linux重要的文字编辑工具，vim是增强版</li>
<li>vim用于在远程环境下用命令形式对文本进行在线编辑</li>
<li>用法格式：<strong>vim [选项] [文件]</strong></li>
</ul>
<h3 id="vim三种模式"><a href="#vim三种模式" class="headerlink" title="vim三种模式"></a>vim三种模式</h3><ul>
<li>普通模式：默认模式，文本只读，不可编辑</li>
<li>编辑模式：编辑文本模式，普通模式按i键进入，ESC键退出</li>
<li>命令模式：执行保存、搜索、退出等操作</li>
</ul>
<h3 id="vim重要快捷键"><a href="#vim重要快捷键" class="headerlink" title="vim重要快捷键"></a>vim重要快捷键</h3><p>按<strong>i</strong>进入编辑模式</p>
<table>
<thead>
<tr>
<th>命令</th>
<th>用途</th>
</tr>
</thead>
<tbody><tr>
<td>delete或x</td>
<td>删除单个字符</td>
</tr>
<tr>
<td>dd</td>
<td>删除整行</td>
</tr>
<tr>
<td>&#x2F;str</td>
<td>全文查找str字符串，n下一个，N前一个</td>
</tr>
<tr>
<td>:% s&#x2F;old&#x2F;new&#x2F;g</td>
<td>替换文件内所有old字符串为new</td>
</tr>
<tr>
<td>u</td>
<td>撤销最近一次操作</td>
</tr>
<tr>
<td>:wq或者**:wq!**</td>
<td><strong>退出并保存</strong>，只读文件要格外加！</td>
</tr>
<tr>
<td>:q!</td>
<td>强制退出放弃保存</td>
</tr>
</tbody></table>
<pre><code class="java">vim server.xml         修改文件
按i进入编辑模式
Home跳转行首
End跳转行尾
Esc退出编辑模式

命令只允许在普通模式下运行
/8080                     查找端口(高亮显示)
查找到后按n是查找下一个 按N是查找上一个
u  撤销最近一次操作
:% s/8080/8900/g        进行端口的全局替换
:% s/&quot;80&quot;/8900/g         想要把80改成8900 且不影响其他数值[把引号也加入其中]
</code></pre>
<h3 id="Linux文本工具"><a href="#Linux文本工具" class="headerlink" title="Linux文本工具"></a>Linux文本工具</h3><h5 id="常用文本工具"><a href="#常用文本工具" class="headerlink" title="常用文本工具"></a>常用文本工具</h5><table>
<thead>
<tr>
<th>命令</th>
<th>用途</th>
</tr>
</thead>
<tbody><tr>
<td>echo</td>
<td>屏幕打印与文本输出 后面要加引号”hello”</td>
</tr>
<tr>
<td>cat</td>
<td>合并文件或查看文件内容</td>
</tr>
<tr>
<td>tail</td>
<td>显示文件内容尾部</td>
</tr>
<tr>
<td>grep</td>
<td>文本过滤工具</td>
</tr>
</tbody></table>
<pre><code class="java">echo &quot;hello&quot; &gt; hello.txt 将左侧命令的结果重写到右侧文件
vim hello.txt
:q        退出

echo &quot;hello&quot; &gt;&gt; hello.txt 内容的追加

cat hello.txt 直接打印到控制台
cat -n hello.txt  -n是在每一行前加行号
cat -nE hello.txt  结尾的时候显示结束符$

echo &quot;hello&quot; &gt; hello.txt
cat hello.txt  =&gt; hello
echo &quot;my name is lili&quot; &gt; myname.txt
cat hello.txt myname.txt &gt;&gt; full.txt    合并文件内容为新的文件    
vim full.txt
echo 和 cat 在实际开发中 打印日志 最后用cat拼接日志

cat &gt; test.txt &lt;&lt; EOF   在当前的输入环境中产生输入流 输入的全输入到test.txt 输入流结束字符串是EOF
&gt; Welcome to imooc.com
&gt; I like linux
&gt; bye!
&gt; EOF

tail处理日志很方便 bug日志
tail full.txt =&gt; hello       my name is lili
tail -n 1 full.txt =&gt; my name is lili   &quot;1&quot;代表显示文本最后一行
tail -f full.txt      对文件进行监听 一旦产生变化就输出控制台【适合用在服务器】
ctrl + c 退出

#cat test.txt
=&gt; welcome to imooc.com
=&gt; I like linux
=&gt; bye!
#grep l test.txt
we&quot;l&quot;come to imooc.com
I &quot;l&quot;ike &quot;l&quot;inux

#grep l test.txt &gt; out.txt            符合条件的可以输出到out.txt文件中
#grep -v l test.txt                    -v 挑选出不包含l的test.txt文件
#grep i...c test.txt                &quot;.&quot;代表匹配任意字符

#ll | grep .txt                     通道特殊使用方法：筛选出后缀是.txt的 
前面ll命令输出的结果会作为后面gerp命令的依据   通过|进行分割 

#ll | grep -E &quot;log[0-9]&#123;1,5&#125;.txt&quot;    通道特殊使用方法：扩展正则表达式
-rw-r--r--. 1 root root 3 12月 23 13:10 log1.txt
-rw-r--r--. 1 root root 3 12月 23 13:10 log2.txt
-rw-r--r--. 1 root root 3 12月 23 13:10 log3.txt
</code></pre>
<h3 id="文件打包-文件组织-与压缩-磁盘节省"><a href="#文件打包-文件组织-与压缩-磁盘节省" class="headerlink" title="文件打包[文件组织]与压缩[磁盘节省]"></a>文件打包<del>[文件组织]</del>与压缩<del>[磁盘节省]</del></h3><h5 id="Linux压缩程序-gzip"><a href="#Linux压缩程序-gzip" class="headerlink" title="Linux压缩程序-gzip"></a>Linux压缩程序-gzip</h5><ul>
<li>gzip是Linux系统的文件压缩程序</li>
<li>gzip压缩包文件扩展名 <strong>.gz</strong></li>
<li>大流量的网站默认都在使用 <strong>gzip</strong> 进行数据压缩传输</li>
</ul>
<h5 id="tar打包与压缩"><a href="#tar打包与压缩" class="headerlink" title="tar打包与压缩"></a>tar打包与压缩</h5><ul>
<li>tar是linux系统将多个文件打包和压缩的工具</li>
<li>tar本质的打包软件，扩展名是 **.tar **</li>
<li>tar可结合gzip或其他压缩工具实现打包压缩，扩展名 <strong>.tar.gz</strong></li>
<li><strong>压缩命令：</strong><code>tar zcvf tomcat.tar.gz game/src</code></li>
<li><strong>解压缩命令：</strong><code>tar zxvf tomcat.tar.gz -C game/src</code></li>
</ul>
<h3 id="tar常用可选项"><a href="#tar常用可选项" class="headerlink" title="tar常用可选项"></a>tar常用可选项</h3><table>
<thead>
<tr>
<th>选项</th>
<th>用途</th>
</tr>
</thead>
<tbody><tr>
<td>z</td>
<td>通过gzip压缩或解压</td>
</tr>
<tr>
<td>c</td>
<td>创建新的tar.gz文件</td>
</tr>
<tr>
<td>v</td>
<td>显示执行过程</td>
</tr>
<tr>
<td>f</td>
<td>指定压缩文件名称</td>
</tr>
<tr>
<td>x</td>
<td>解压缩tar.gz文件</td>
</tr>
<tr>
<td>-C</td>
<td>指定解压缩目录</td>
</tr>
</tbody></table>
<h3 id="安装与卸载应用程序"><a href="#安装与卸载应用程序" class="headerlink" title="安装与卸载应用程序"></a>安装与卸载应用程序</h3><h5 id="为CentOS安装应用程序"><a href="#为CentOS安装应用程序" class="headerlink" title="为CentOS安装应用程序"></a>为CentOS安装应用程序</h5><ul>
<li><span style = "color:red">在CentOS中安装第三方应用程序包含<strong>两种方式</strong>：</span><ul>
<li>rpm: Red Hat 软件包管理器, 相当于应用程序安装文件的执行者</li>
<li><strong><u>编译安装</u><strong>：用户自己从网站下载程序</strong>源码</strong>进行<strong>编译安装</strong></li>
</ul>
</li>
</ul>
<h3 id="yum与rpm的关系"><a href="#yum与rpm的关系" class="headerlink" title="yum与rpm的关系"></a>yum与rpm的关系</h3><ul>
<li>rpm安装过程中, 需要用户自己解决依赖问题</li>
<li>yum通过引入软件仓库，联网下载rpm包及依赖，并依次自动安装</li>
<li>yum是rpm的前端程序，其目的就是简化rpm的安装过程</li>
</ul>
<h5 id="yum常用命令"><a href="#yum常用命令" class="headerlink" title="yum常用命令"></a>yum常用命令</h5><ul>
<li>yum search 应用名                  #在仓库中查询是否存在指定应用</li>
<li>yum instal -y 应用名                #全自动下载安装应用及依赖</li>
<li>yum info 应用名                       #查看应用详细信息</li>
<li>yum list installed 应用名         #查看已安装的应用程序</li>
<li>rpm -ql 应用名                          #查看安装后输出的文件清单</li>
<li>yum remove -y 应用名            #全自动卸载指定应用</li>
</ul>
<h5 id="①-利用yum安装tree"><a href="#①-利用yum安装tree" class="headerlink" title="① 利用yum安装tree"></a>① 利用yum安装tree</h5><pre><code class="java">yum search tree
yum install tree.x86_64 安装tree
yum install -y tree.x86_64 遇到所有的默认y进行安装
tree -d 或 tree                查看文件树型结构
which tree                     查看刚刚tree安装的目录
rpm -ql tree.x86_64         查看刚刚tree安装了哪些文件
yum list installed          查看已经安装的应用
yum list installed *tree*   查看已安装的应用其中有tree的
    
yum remove tree.x86_64  卸载程序
</code></pre>
<h5 id="②-利用编译方式安装应用程序"><a href="#②-利用编译方式安装应用程序" class="headerlink" title="② 利用编译方式安装应用程序"></a>② 利用编译方式安装应用程序</h5><ul>
<li>如yum仓库未提供rpm，往往需要采用编译安装方式</li>
<li>编译安装是指从应用网站下载源码后，对源码进行编译后使用</li>
<li>编译命令：**make #**使用对应编译器对源码编译生成可执行文件</li>
</ul>
<h6 id="yum与编译安装的比较"><a href="#yum与编译安装的比较" class="headerlink" title="yum与编译安装的比较"></a>yum与编译安装的比较</h6><table>
<thead>
<tr>
<th></th>
<th>yum安装</th>
<th>编译安装</th>
</tr>
</thead>
<tbody><tr>
<td>兼容性</td>
<td>差，每种发行版都要准备</td>
<td>好，全平台适用</td>
</tr>
<tr>
<td>复杂度</td>
<td>简单</td>
<td>复杂</td>
</tr>
<tr>
<td>安装速度</td>
<td>快</td>
<td>慢</td>
</tr>
<tr>
<td>来源</td>
<td>应用仓库</td>
<td>官网下载</td>
</tr>
<tr>
<td>应用场景</td>
<td>日常系统软件</td>
<td>开源软件，最新版本</td>
</tr>
</tbody></table>
<h3 id="编译安装Redis-非关系型数据库"><a href="#编译安装Redis-非关系型数据库" class="headerlink" title="编译安装Redis[非关系型数据库]"></a>编译安装Redis<del>[非关系型数据库]</del></h3><pre><code class="java"># make
# yum install -y gcc
# cd ..
# clear
# rm -rf ./redis-4.0.14
# tar zxvf redis-4.0.14.tar,gz
# cd redis-4.0.14/
# clear
# make

[root@imooc redis-4.0.14]# ./src/redis-server redis.conf
</code></pre>
<h3 id="Linux系统管理命令"><a href="#Linux系统管理命令" class="headerlink" title="Linux系统管理命令"></a>Linux系统管理命令</h3><h5 id="使用-ifconfig-查看网卡ip"><a href="#使用-ifconfig-查看网卡ip" class="headerlink" title="使用 ifconfig 查看网卡ip"></a>使用 <code>ifconfig</code> 查看网卡ip</h5><h4 id="netstat-查看网络端口号"><a href="#netstat-查看网络端口号" class="headerlink" title="netstat 查看网络端口号"></a><code>netstat</code> 查看网络端口号</h4><ul>
<li><p><strong>netstat -tulpn</strong> 或者 <strong>netstat -ano</strong></p>
<ul>
<li><p><strong>netstat</strong> 常用选项</p>
<table>
<thead>
<tr>
<th>选项</th>
<th>用途</th>
</tr>
</thead>
<tbody><tr>
<td>t</td>
<td>显示tcp传输协议的连接状况</td>
</tr>
<tr>
<td>u</td>
<td>显示udp传输协议的连接状况</td>
</tr>
<tr>
<td>l</td>
<td>显示处于监听状态的网络连接</td>
</tr>
<tr>
<td>p</td>
<td>显示应用PID和程序名称</td>
</tr>
<tr>
<td>n</td>
<td>显示ip地址</td>
</tr>
<tr>
<td>a</td>
<td>显示所有连接</td>
</tr>
<tr>
<td>o</td>
<td>显示计时器</td>
</tr>
</tbody></table>
</li>
</ul>
</li>
</ul>
<h4 id="查看进程-amp-杀掉进程"><a href="#查看进程-amp-杀掉进程" class="headerlink" title="查看进程 &amp; 杀掉进程"></a>查看进程 &amp; 杀掉进程</h4><ul>
<li><strong>ps -ef</strong><br><code># ps -ef | grep vim</code>     ‘|’代表通道</li>
<li>**kill -9 PID ** 专门按照pid杀死指定进程(强制删除)</li>
</ul>
<pre><code class="java">#ps -ef | grep redis
#netstart -tulpn | grep 6379
</code></pre>
<h3 id="应用服务化"><a href="#应用服务化" class="headerlink" title="应用服务化"></a>应用服务化</h3><ul>
<li>应用服务化是指让应用程序以服务方式在系统后台运行</li>
<li>Linux系统对服务化应用进行统一管理</li>
<li>服务管理命令：<strong>systemctl</strong></li>
</ul>
<table>
<thead>
<tr>
<th>指令</th>
<th>用途</th>
</tr>
</thead>
<tbody><tr>
<td>start</td>
<td>启动服务</td>
</tr>
<tr>
<td>stop</td>
<td>停止服务</td>
</tr>
<tr>
<td>restart</td>
<td>重启服务</td>
</tr>
<tr>
<td>enable</td>
<td>设置开机启动</td>
</tr>
<tr>
<td>disable</td>
<td>禁止开机启动</td>
</tr>
<tr>
<td>status</td>
<td>查看服务状态</td>
</tr>
<tr>
<td>daemon-reload</td>
<td>重载服务配置文件</td>
</tr>
<tr>
<td>list-unit-files</td>
<td>列出所有服务</td>
</tr>
</tbody></table>
<pre><code class="java">启动redis
./src/redis-server redis.conf  进入到redis安装目录下执行
ctrl + z 
#ps -ef | grep redis

#find / -name *.pid

cd.. cd.. cd.. 
cd usr/lib/systemd/system 
#pwd
=&gt;/usr/lib/systemd/system 
#vim redis.service 按i进入编写模式
=&gt;
&lt;==========================================================================&gt;
[Unit]
Description=Redis
After=syslog.target network.target remote-fs.target nss-lookup.target

[Service]
Type=forking                    #描述服务类型：后台运行
PIDFile=/run/redis_6379.pid     #指向刚刚继承编号的pid
ExecStart=/usr/local/redis-4.0.14/src/redis-server /usr/local/redis-4.0.14/redis.conf                                 #服务启动时使用什么命令 调用redis-server
ExecStop=/bin/kill -s QUIT $MAINPID 
                                #对指定的命令关闭 $后自动带入pidfile  -s quit是按正常流程关闭
PrivateTmp=true
            
[Install]
WantedBy=multi-user.target         #将radis分配到multi-user.target服务组上[随系统自动启动]
&lt;==========================================================================&gt;
[root@imooc system]#systemctl daemon-reload   对所有redis进行重载

[root@imooc system]#ps -ef | grep redis  
[root@imooc system]#kill -s QUIT #杀死所有redis进程测试能否实现自启动
[root@imooc system]#systemctl start redis
[root@imooc system]#systemctl status redis

https://www.cnblogs.com/niway/p/15346572.html

[root@imooc system]#systemctl stop redis  #停止服务
[root@imooc system]#systemctl enable redis #随着系统启动
[root@imooc system]#systemctl list-unit-files #查看系统中每一个服务命令
[root@imooc system]#systemctl list-unit-files | grep enabled #查看自启动的命令

[root@imooc system]#shutdown -r now   #断开连接
</code></pre>
<h3 id="Linux用户与权限"><a href="#Linux用户与权限" class="headerlink" title="Linux用户与权限"></a>Linux用户与权限</h3><h5 id="用户"><a href="#用户" class="headerlink" title="用户"></a>用户</h5><ul>
<li>Linux是多用户多任务系统，包含两个概念：<strong>用户</strong>与<strong>用户组</strong></li>
<li>用户与账户是同一概念，用于登录系统与区分资源权限</li>
<li>用户让系统变的更安全，同时也保护了用户的个人数字资产</li>
</ul>
<h5 id="用户组"><a href="#用户组" class="headerlink" title="用户组"></a>用户组</h5><ul>
<li>用户组就是将用户分组，隶属用户自动拥有组权限</li>
<li>一个用户可隶属于多个组，用户可任意切换当前组</li>
<li>用户组的出现让用户权限管理变更轻松</li>
</ul>
<h5 id="用户与用户组的常用命令"><a href="#用户与用户组的常用命令" class="headerlink" title="用户与用户组的常用命令"></a>用户与用户组的常用命令</h5><table>
<thead>
<tr>
<th>命令</th>
<th>用途</th>
</tr>
</thead>
<tbody><tr>
<td>useradd</td>
<td>创建新用户</td>
</tr>
<tr>
<td>passwd</td>
<td>修改密码</td>
</tr>
<tr>
<td>usermod</td>
<td>修改用户信息&#x2F;分配组 (覆盖原组)</td>
</tr>
<tr>
<td>groupadd</td>
<td>创建新的用户组</td>
</tr>
<tr>
<td><strong>chown</strong></td>
<td>更改文件的属主或属组</td>
</tr>
<tr>
<td><strong>chmod</strong></td>
<td>更改文件的访问权限</td>
</tr>
<tr>
<td>newgrp</td>
<td>切换用户当前组</td>
</tr>
</tbody></table>
<h3 id="项目内部文件权限管理实践"><a href="#项目内部文件权限管理实践" class="headerlink" title="项目内部文件权限管理实践"></a>项目内部文件权限管理实践</h3><pre><code class="java">3员工(2个程序员 1个测试员)
[root@imooc imooc]# adduser d1
[root@imooc imooc]# adduser d2
[root@imooc imooc]# adduser t1
[root@imooc imooc]# passwd d1 =&gt; shuangyu1
[root@imooc imooc]# passwd d2 =&gt; shuangyu2
[root@imooc imooc]# passwd t1 =&gt; shuangyu3
[root@imooc imooc]# groupadd developer
[root@imooc imooc]# groupadd testor
[root@imooc imooc]# usermod -g developer d1
[root@imooc imooc]# usermod -g developer d2
[root@imooc imooc]# usermod -g testor t1
在上方点击打开 并且复制3个Centos7 分别改用户名(d1 d2 t1)和密码(shuangyu1/2/3) 
[root@imooc imooc]# cd
[root@imooc ~]# cd /usr/local/share
[root@imooc share]# mkdir dev-document
[root@imooc share]# ll
drwxr-xr-x.  2 root root  28 11月 15 18:37 applications
drwxr-xr-x.  2 root root   6 12月  3 20:36 dev-document
drwxr-xr-x.  2 root root   6 4月  11 2018 info
drwxr-xr-x. 21 root root 243 11月 15 18:25 man
【前方的drwxr-xr-x 含义见图】

[root@imooc share]# chown d1:developer dev-document  更改对应目录文件的属主(由超级管理员交給研发组) d1可以对developer拥有完整的操作权限 developer以外的用户有读取执行权 其他用户 只有执行权
drwxr-xr-x.  2 root root       28 11月 15 18:37 applications
drwxr-xr-x.  2 d1   developer   6 12月  3 20:36 dev-document
drwxr-xr-x.  2 root root        6 4月  11 2018 info
drwxr-xr-x. 21 root root      243 11月 15 18:25 man

[root@imooc share]# chmod 750 dev-document/ 其他用户不允许任何权限
[root@imooc share]# ll
总用量 0
drwxr-xr-x.  2 root root       28 11月 15 18:37 applications
drwxr-x---.  2 d1   developer   6 12月  3 20:36 dev-document
drwxr-xr-x.  2 root root        6 4月  11 2018 info
drwxr-xr-x. 21 root root      243 11月 15 18:25 man

返回到Centos 7 - t1
[t1@imooc ~]$ cd /usr/local/share/dev-document/
-bash: cd: /usr/local/share/dev-document/: 权限不够
返回到Centos 7 - d2
[d2@imooc ~]$ cd /usr/local/share
[d2@imooc share]$ mv dev-document/ doc
mv: 无法将&quot;dev-document/&quot; 移动至&quot;doc&quot;: 权限不够


上方的chmod 750 的意思是 对应下方的表 第一个7是第一个rwx相加之和4+2+1
====================chmod命令====================
★ chmod 750：组用户可读写，其他用户不允许访问 ★        
★ chmod 777：所有用户拥有完整权限 ★
★ chmod 700：只有属主拥有完整权限 ★
====================++++++++====================
d1弄个文档整个公司的所有人都可以使用
[d1@imooc ~]$ cd /usr/local/share/dev-document/
[d1@imooc dev-document]$ vim code.md
[d1@imooc dev-document]$ ll
-rw-r--r--. 1 d1 developer 13 12月  3 20:59 code.md
第一个是d则是文件夹 -则是文件 属主可以对文件读写。组仅仅可以读取。其他人仅仅可以读取
[d1@imooc dev-document]$ chmod 770 code.md
[d1@imooc dev-document]$ ll
总用量 4
-rwxrwx---. 1 d1 developer 13 12月  3 20:59 code.md
d2即可读写
[d2@imooc dev-document]$ vim code.md

如何让d1同时拥有两个组
[root@imooc share]# usermod -G developer,testor d1
[root@imooc share]# groups d1
d1: developer testor

将当前组切换到新的用户组上
[d1@imooc ~]$ newgrp testor
[d1@imooc ~]$ groups
d1：testor developer
</code></pre>
<p><img src="https://raw.githubusercontent.com/P-luminary/images/2ee7e298b43a3cdebf4f9be2ae0e3f72592adee2/data/%E6%96%87%E4%BB%B6%E6%9D%83%E9%99%90%E4%BB%A3%E7%A0%81%E8%A1%A8.png"></p>
<h3 id="sudo获取超级管理员权限"><a href="#sudo获取超级管理员权限" class="headerlink" title="sudo获取超级管理员权限"></a>sudo获取超级管理员权限</h3><ul>
<li>sudo可以让普通用户拥有超级管理员的执行权限</li>
<li>普通用户要经过超级管理员授权才能使用</li>
<li>授权命令：visudo</li>
</ul>
<pre><code class="java">在root端输入 visudo 并且输入100gg 快速定位到100行
[root@imooc ~]#visudo
## The COMMANDS section may have other options added to it.
##
## Allow root to run any commands anywhere
root    ALL=(ALL)       ALL
d1        ALL=(ALL)        ALL     #按i进入编辑模式且增加此行
        ↑：ALL任意电脑可以连接    后ALL可以切换其他用户执行命令   后后ALL允许哪些命令
ESC退出模式后输入
[root@imooc imooc]# visudo -c
/etc/sudoers：解析正确


[d1@imooc ~]$ useradd d3    #目前还没有权限
useradd: Permission denied.
useradd：无法锁定 /etc/passwd，请稍后再试。
[d1@imooc ~]$ sudo useradd d3     #以d1的身份給d3一个超级管理员的权限
我们信任您已经从系统管理员那里了解了日常注意事项。
总结起来无外乎这三点：

    #1) 尊重别人的隐私。
    #2) 输入前要先考虑(后果和风险)。
    #3) 权力越大，责任越大。

[sudo] d1 的密码：=》 shuangyu1
[d1@imooc ~]$ sudo passwd d3 
更改用户 d3 的密码 =》 shuangyu33

回到主Centos 7
[root@imooc ~]#visudo
## Allow root to run any commands anywhere
root    ALL=(ALL)       ALL
d1      ALL=(ALL)       NOPASSWD:ALL
NOPASSWD:ALL意味着做任何命令之前不用输入密码

[d1@imooc ~]$ sudo useradd d4
[d1@imooc ~]$                     #直接不需要输入密码了
</code></pre>
<h3 id="CentOS7防火墙firewall"><a href="#CentOS7防火墙firewall" class="headerlink" title="CentOS7防火墙firewall"></a>CentOS7防火墙firewall</h3><h5 id="防火墙"><a href="#防火墙" class="headerlink" title="防火墙"></a>防火墙</h5><ul>
<li>防火墙是借助硬件和软件对内外部网络环境的保护措施</li>
<li>CentOS 7基于firewall实现应用层防火墙，CentOS6基于iptables</li>
<li>firewall-cmd是firewall的核心命令</li>
</ul>
<h5 id="对外开放Tomcat"><a href="#对外开放Tomcat" class="headerlink" title="对外开放Tomcat"></a>对外开放Tomcat</h5><pre><code class="java">把apache-tomcat.tar.gz放入/usr/local中 
[root@imooc local]# tar zxvf apache-tomcat-9.0.34.tar.gz
[root@imooc local]# ll
[root@imooc local]# cd apache-tomcat-9.0.34/
[root@imooc apache-tomcat-9.0.34]# cd bin
[root@imooc bin]# ./startup.sh
[root@imooc bin]# ./startup.sh
Using CATALINA_BASE:   /usr/local/apache-tomcat-9.0.34
Using CATALINA_HOME:   /usr/local/apache-tomcat-9.0.34
Using CATALINA_TMPDIR: /usr/local/apache-tomcat-9.0.34/temp
Using JRE_HOME:        /usr
Using CLASSPATH:       /usr/local/apache-tomcat-9.0.34/bin/bootstrap.jar:/usr/local/apache-tomcat-9.0.34/bin/tomcat-juli.jar
Tomcat started.
[root@imooc bin]# netstat -tulpn|grep 8080  #查看端口是否开启
tcp6    0    0 :::8080        :::*         LISTEN      4302/java  
在虚拟机内部去fox浏览器搜索 localhost:8080  就会看到可爱的绿色小猫咪
    
若想在计算机中访问端口 192.168.170.129:8080 则需要关闭虚拟机的防火墙
[root@imooc bin]# firewall-cmd --state   #查看防火墙状态
running
[root@imooc bin]# firewall-cmd --list-ports #查看防火墙放行的端口(空代表无任何放行端口)
[root@imooc bin]# firewall-cmd --zone=public --permanent --add-port=8080/tcp
#### zone防火墙定义的规则区域、产生永久变更、增加端口8080、tcp形式
[root@imooc bin]# firewall-cmd --reload  #进行配置重载

若不需要开放8080端口则需要
[root@imooc bin]# firewall-cmd --zone=public --permanent --remove-port=8080/tcp
[root@imooc bin]# firewall-cmd --reload  #进行配置重载

[root@imooc bin]# firewall-cmd --zone=public --permanent --add-port=8000-9000/tcp 
###放行区域端口
[root@imooc bin]# firewall-cmd --reload  #进行配置重载
</code></pre>
<h3 id="Bash-Shell"><a href="#Bash-Shell" class="headerlink" title="Bash Shell"></a>Bash Shell</h3><ul>
<li>Shell是一个用c语言编写的脚本解释器，是用户通过代码操作Linux的桥梁</li>
<li>Shell脚本描述要执行的任务，完成系列复杂操作，文件通常以**.sh**后缀</li>
<li>Shell脚本通过Shell解释器执行，按解释器分类分为多种类型</li>
</ul>
<h3 id="Linux-Shell分类"><a href="#Linux-Shell分类" class="headerlink" title="Linux Shell分类"></a>Linux Shell分类</h3><table>
<thead>
<tr>
<th>Shell种类</th>
<th>Shell解释器</th>
</tr>
</thead>
<tbody><tr>
<td>Bourne Shell</td>
<td>&#x2F;usr&#x2F;bin&#x2F;sh 或 &#x2F;bin&#x2F;sh</td>
</tr>
<tr>
<td><strong>Boourne Again Shell</strong></td>
<td><strong>&#x2F;bin&#x2F;bash(默认)</strong></td>
</tr>
<tr>
<td>C Shell</td>
<td>&#x2F;usr&#x2F;bin&#x2F;csh</td>
</tr>
<tr>
<td>K Shell</td>
<td>&#x2F;usr&#x2F;bin&#x2F;ksh</td>
</tr>
<tr>
<td>Shell for Root</td>
<td>&#x2F;sbin&#x2F;sh</td>
</tr>
</tbody></table>
<h5 id="一键发布Tomcat应用程序"><a href="#一键发布Tomcat应用程序" class="headerlink" title="一键发布Tomcat应用程序"></a>一键发布Tomcat应用程序</h5><pre><code class="java">编写shall脚本
[root@imooc local]# vim deploy_tomcat.sh
======================================================================
echo &quot;准备下载Tomcat9&quot;
wget https://mirror.bit.edu.cn/apache/tomcat/tomcat-9/v9.0.34/bin/apache-tomcat-9.0.34.tar.gz
echo &quot;正在解压缩Tomcat9&quot;
tar zxf apache-tomcat-9.0.34.tar,gz
echo &quot;防火墙开放8080端口&quot;
firewall-cmd --zone=public --permanent --add-port=8080/tcp
firewall-cmd --reload
echo &quot;启动Tomcat&quot;
cd ./apache-tomcat-9.0.34/bin
./startup.sh
======================================================================
[root@imooc local]# ./deploy_tomcat.sh        开启文件
</code></pre>
<h3 id="综合训练：Linux部署慕课网办公OA"><a href="#综合训练：Linux部署慕课网办公OA" class="headerlink" title="综合训练：Linux部署慕课网办公OA"></a>综合训练：Linux部署慕课网办公OA</h3><h5 id="部署架构：Chrome-Tomcat-Web服务器-MySQL服务器-【中间通过网络通信】"><a href="#部署架构：Chrome-Tomcat-Web服务器-MySQL服务器-【中间通过网络通信】" class="headerlink" title="部署架构：Chrome + Tomcat Web服务器 + MySQL服务器 【中间通过网络通信】"></a>部署架构：Chrome + Tomcat Web服务器 + MySQL服务器 【中间通过网络通信】</h5><pre><code class="java">重新安装CentOS 7-DB【最小值安装】
[root@localhost ~]# yum install -y net-tools
CentOS 7-DB        ifconfig ==》 192.168.170.131    账户：centos-db 密码：panchunyao123
CentOS 7-WEB    ifconfig ==》 192.168.170.133    账户：centos-web 密码：panchunyao123
DB按照MySQL
WEB按照Tomcat
</code></pre>
<h3 id="CentOS安装MySQL-8"><a href="#CentOS安装MySQL-8" class="headerlink" title="CentOS安装MySQL 8"></a>CentOS安装MySQL 8</h3><pre><code class="java">查找有没有mysql安装包
[centos-db@localhost ~]$ yum search mysql-community
去官网找到Linux版的 右键复制链接地址
[root@localhost ~]# wget https://dev.mysql.com/get/mysql80-community-release-el7-11.noarch.rpm
bash: wget: command not found
卧槽 wegt不存在，那就按装wget
[root@localhost ~]# yum install -y wget
[root@localhost mysql]# ll
total 16
-rw-r--r--. 1 root root 14064 Oct 24 07:44 mysql80-community-release-el7-11.noarch.rpm

[root@localhost mysql]# yum localinstall -y mysql80-community-release-el7- 11.noarch.rpm     #自动安装mysql源
[root@localhost mysql]# yum search mysql-comm #此时查找一下就会出现大量mysql组件
[root@localhost mysql]# yum install -y mysql-community-server #安装mysql&#123;在欧美很慢&#125;
ctrl+c 停止安装
[root@localhost mysql]# cd /var/cache/yum/x86_64/7/mysql80-community/packages/
#yum下载的缓存路径 在网上下载好后Linux版的MySQL后 进入

[root@localhost mysql80-community]  /var/cache/yum/x86_64/7/mysql80-community
用命令更改文件夹权限：chmod 777 test01（需要赋予权限的文件夹）
之后将解压缩的MySQL拖进去

注意：如果直接下载 yum localinstall mysql80-community-release-el7- 11.noarch.rpm  的话会有很多依赖不会被自动下载，最保准的就是去网上下载Linux版本的MySQL再利用Xftp拖进去

[root@localhost package]# yum install -y mysql-community-server 【最快最省事 自动下载&amp;安装依赖】
[root@localhost package]# systemctl start mysqld
[root@localhost package]# netstat -tulpn
tcp6    0    0    :::3306        :::*        LISTEM        21850/mysqld
[root@localhost package]# systemctl status mysqld     #查看myql启动状态
[root@localhost package]# systemctl enable mysqld     #设置开机自启动
</code></pre>
<h3 id="初始化MySQL-CentOS-7-DB"><a href="#初始化MySQL-CentOS-7-DB" class="headerlink" title="初始化MySQL[CentOS 7-DB]"></a>初始化MySQL[CentOS 7-DB]</h3><pre><code class="java">查看mysql日志寻找mysql密码
[root@localhost package]# vi /var/log/mysqld.log
root@localhost: Y,#)foTQ,7js
[root@localhost package]# mysql -uroot -p
修改密码！
mysql&gt; alter user &#39;root&#39;@&#39;localhost&#39; identified with mysql_native_password by &#39;Panchunyao123!&#39;
mysql&gt; use mysql
mysql&gt; select host,user from user;
mysql&gt; update user set host=&#39;%&#39; where user=&#39;root&#39;; #任意设备都可使用%连接到mysql服务器
host: %            user: root
mysql&gt; flush privileges; #使修改的权限数据生效
mysql&gt; exit

下一步是放行防火墙3306端口
[root@localhost package]# firewall-cmd --zone=public --permanent --add-port=3306/tcp
[root@localhost package]# firewall-cmd --reload

去电脑端的Navicat Premium 连接新数据库
MySQL-新建连接
连接名：centos-db
主机：192.168.170.131
端口：3306
用户名：root
密码：Panchunyao123！

新建数据库 imooc-oa  utf8mb4 执行sql文件 imooc-oa.sql
</code></pre>
<h3 id="部署配置Web应用服务器"><a href="#部署配置Web应用服务器" class="headerlink" title="部署配置Web应用服务器"></a>部署配置Web应用服务器</h3><pre><code class="java">CentOS 7-DB        ifconfig ==》 192.168.170.131    账户：centos-db 密码：panchunyao123
CentOS 7-WEB    ifconfig ==》 192.168.170.133    账户：centos-web 密码：panchunyao123
</code></pre>
<pre><code class="java">[root@localhost ~]# yum search jdk  #查看仓库中包含哪些jdk
[root@localhost ~]# yum install -y java-1.8.0-openjdk    #安装jdk以及所有依赖
[root@localhost ~]# java -version
[root@localhost ~]# which java      #查看安装到哪个地方
/bin/java
安装tomcat
[root@localhost ~]# cd /usr
用命令更改文件夹权限：chmod 777 local
[root@localhost usr]# cd local
打开Xftp将apache-tomcat-9.0.34.tar.gz 传入到local内
[root@localhost local]# tar zxf apache-tomcat-9.0.34.tar.gz     #对压缩包进行解压
将素材资料里的imooc_oa.war拖入Xftp的local中 之后进行解压
[root@localhost local]# tar zxf imooc_oa.war 
需要将imooc_oa复制到tomcat9的webapps下才可生效
[root@localhost local]# mv imooc_oa ./apache-tomcat-9.0.34/webapps/
[root@localhost local]# cd apache-tomcat-9.0.34/webapps/
[root@localhost webapps]# vim ./imooc_oa/WEB-INF/classes/mybatis-config.xml
#远程对服务器配置连接数据库服务器
-bash: vim: 未找到命令 需要先安装vim
[root@localhost webapps]# yum install -y vim-common
[root@localhost webapps]# yum install -y vim-enhanced  #再安装一个增强的vim包
[root@localhost webapps]# vim ./imooc_oa/WEB-INF/classes/mybatis-config.xml
输入/root 进行全文查找 修改&lt;property 中的value=&quot;jdbc:mysql:...&quot; loacalhost改为自己网络ip：192.168.170.131
再修改一下下面的password：  Panchunyao123！
:wq
[root@localhost webapps]# cd ..
[root@localhost apache-tomcat-9.0.34]# vim ./conf/server.xml
/8080 搜索 &lt;Connector port=&quot;80&quot; 只保留80端口
/Host&gt; 找到最下面 在上面一行加入
&lt;Context path=&quot;/&quot; docaBacs=&quot;imooc_oa&quot;/&gt; #将imooc_oa目录映射到根路径&quot;/&quot;
:wq

之后启动tomcat
[root@localhost apache-tomcat-9.0.34]# ./bin/startup.sh
[root@localhost apache-tomcat-9.0.34]# netstat -tulpn  #查看进程
tcp6        0        0 :::80        :::*        LISTEN        20303/java

用防火墙将80端口对外进行暴露
[root@localhost apache-tomcat-9.0.34]# firewall-cmd --zone=public --permanent --add-port=80/tcp
[root@localhost apache-tomcat-9.0.34]# firewall-cmd --reload  #重载

回到电脑浏览器输入：http://192.168.170.133/login.html

数据库安全【根据3306端口可以查到数据库根源】：对指定IP端口进行放行
[root@localhost ~]# firewall-cmd --zone=public --permanent --remove-port=3306/tcp
[root@localhost ~]# firewall-cmd --reload  #重载
[root@localhost ~]# firewall-cmd --permanent --zone=public --add-rich-rule=&quot;rule family=&quot;ipv4&quot; source address=&quot;192.168.170.133&quot; port protocol=&quot;tcp&quot; port=&quot;3306&quot; accept &quot;    #-rich-rule防火墙内部规则强大的定义表达式
[root@localhost ~]# firewall-cmd --reload  #重载
[root@localhost apache-tomcat-9.0.34]# ./bin/shutdown.sh
[root@localhost apache-tomcat-9.0.34]# ./bin/startup.sh
</code></pre>
<hr>
<hr>
<h1 id="Redis-内存-非常快-数据库、非关系型数据库"><a href="#Redis-内存-非常快-数据库、非关系型数据库" class="headerlink" title="Redis (内存[非常快]数据库、非关系型数据库)"></a>Redis (内存<del>[非常快]</del>数据库、非关系型数据库)</h1><ul>
<li>Redis是<strong>Key-Value型</strong>NoSQL数据库</li>
<li><strong>Redis</strong>将数据<strong>存储在内存(RAM)中</strong>，同时也能<strong>持久化到磁盘</strong></li>
<li>Redis常用于缓存，利用内存的高效提高程序的处理速度</li>
</ul>
<h5 id="Redis特点"><a href="#Redis特点" class="headerlink" title="Redis特点"></a>Redis特点</h5><ul>
<li>速度快</li>
<li>广泛的语言支持</li>
<li>持久化</li>
<li>多种数据结构</li>
<li>主从复制(多台Redis可以保持数据同步)</li>
<li>分布式与高可用(7×24小时服务 淘宝&#x2F;京东) 全国各地多个主机 降低网络传输时间</li>
</ul>
<h3 id="Redis的安装与启动"><a href="#Redis的安装与启动" class="headerlink" title="Redis的安装与启动"></a>Redis的安装与启动</h3><ul>
<li>在Linux系统中安装redis (<a target="_blank" rel="noopener" href="http://redis.io/download">http://redis.io/download</a>)</li>
</ul>
<pre><code class="java">$ wegt http://download.redis.io/releases/redis-5.0.2.tar.gz
$ tar xzf redis-5.0.2.tar.gz
$ cd redis-5.0.2
$ make
</code></pre>
<pre><code class="java">[root@imooc imooc]# cd /usr/local
[root@imooc local]# ll
[root@imooc local]# mkdir redis
[root@imooc local]# ll
[root@imooc local]# cd redic
[root@imooc redic]# yum install gcc
[root@imooc redic]# wegt http://download.redis.io/releases/redis-5.0.2.tar.gz
[root@imooc redis]# tar xzf redis-5.0.2.tar.gz
[root@imooc redis]# cd redis-5.0.2
[root@imooc redis-5.0.2]# make
Hint: It&#39;s a good idea to run &#39;make test&#39; ;)   安装成功
[root@imooc redis-5.0.2]# ll  #找redis.conf
总用量 240
-rw-rw-r--.  1 root root 85327 11月 22 2018 00-RELEASENOTES
-rw-rw-r--.  1 root root    53 11月 22 2018 BUGS
-rw-rw-r--.  1 root root  1894 11月 22 2018 CONTRIBUTING
-rw-rw-r--.  1 root root  1487 11月 22 2018 COPYING
drwxrwxr-x.  6 root root   192 12月  5 11:47 deps
-rw-rw-r--.  1 root root    11 11月 22 2018 INSTALL
-rw-rw-r--.  1 root root   151 11月 22 2018 Makefile
-rw-rw-r--.  1 root root  4223 11月 22 2018 MANIFESTO
-rw-rw-r--.  1 root root 20555 11月 22 2018 README.md
-rw-rw-r--.  1 root root 62155 11月 22 2018 redis.conf
-rwxrwxr-x.  1 root root   275 11月 22 2018 runtest
-rwxrwxr-x.  1 root root   280 11月 22 2018 runtest-cluster
-rwxrwxr-x.  1 root root   281 11月 22 2018 runtest-sentinel
-rw-rw-r--.  1 root root  9710 11月 22 2018 sentinel.conf
drwxrwxr-x.  3 root root  8192 12月  5 11:49 src
drwxrwxr-x. 10 root root   167 11月 22 2018 tests
drwxrwxr-x.  8 root root  4096 11月 22 2018 utils
[root@imooc redis-5.0.2]# cd src
[root@imooc src]# ll     #找redis- server启动目录

[root@imooc src]#cd ..
[root@imooc redis-5.0.2]# ./src/redis-server redis.conf
</code></pre>
<pre><code class="java">若端口被占用

找到redis-server的进程，然后杀死对应的进程，然后重新启动redis

&gt;&gt;&gt; ps -ef | grep -i redis
root      3585 19590  0 10:36 pts/20   00:00:00 redis-server *:6379
user      3684  3663  0 10:38 pts/21   00:00:00 grep --color=auto -i redis
进程3585是redis的服务，

kill -9 3585
</code></pre>
<ul>
<li>在Windows系统安装Redis</li>
</ul>
<pre><code class="java">https://github.com/microsoftarchive/redis/releases 下载后解压
打开cmd
C:\Users\Pluminary&gt;d:
D:\&gt;cd Redis-x64-3.0.504
D:\Redis-x64-3.0.504&gt;dir
D:\Redis-x64-3.0.504&gt;redis-server redis.windows.conf
                _._
           _.-``__ &#39;&#39;-._
      _.-``    `.  `_.  &#39;&#39;-._           Redis 3.0.504 (00000000/0) 64 bit
  .-`` .-```.  ```\/    _.,_ &#39;&#39;-._
 (    &#39;      ,       .-`  | `,    )     Running in standalone mode
 |`-._`-...-` __...-.``-._|&#39;` _.-&#39;|     Port: 6379
 |    `-._   `._    /     _.-&#39;    |     PID: 22828
  `-._    `-._  `-./  _.-&#39;    _.-&#39;
 |`-._`-._    `-.__.-&#39;    _.-&#39;_.-&#39;|
 |    `-._`-._        _.-&#39;_.-&#39;    |           http://redis.io
  `-._    `-._`-.__.-&#39;_.-&#39;    _.-&#39;
 |`-._`-._    `-.__.-&#39;    _.-&#39;_.-&#39;|
 |    `-._`-._        _.-&#39;_.-&#39;    |
  `-._    `-._`-.__.-&#39;_.-&#39;    _.-&#39;
      `-._    `-.__.-&#39;    _.-&#39;
          `-._        _.-&#39;
              `-.__.-&#39;
</code></pre>
<h3 id="Redis的常用基本配置"><a href="#Redis的常用基本配置" class="headerlink" title="Redis的常用基本配置"></a>Redis的常用基本配置</h3><table>
<thead>
<tr>
<th align="center">配置项</th>
<th align="center">示例</th>
<th align="center">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center">daemonize</td>
<td align="center">daemonize yes</td>
<td align="center">是否启用后台运行, 默认no</td>
</tr>
<tr>
<td align="center">port</td>
<td align="center">port 6379</td>
<td align="center">设置端口号, 默认6379</td>
</tr>
<tr>
<td align="center">logfile</td>
<td align="center">logfile 日志文件</td>
<td align="center">设置日志文件</td>
</tr>
<tr>
<td align="center">databases</td>
<td align="center">databases 255</td>
<td align="center">设置redis数据库总量</td>
</tr>
<tr>
<td align="center">dir</td>
<td align="center">dir 数据文件目录</td>
<td align="center">设置数据文件存储目录</td>
</tr>
<tr>
<td align="center">requirepass</td>
<td align="center">requirepass 12345</td>
<td align="center">设置使用密码</td>
</tr>
</tbody></table>
<h5 id="守护进程方式启动Redis"><a href="#守护进程方式启动Redis" class="headerlink" title="守护进程方式启动Redis"></a>守护进程方式启动Redis</h5><pre><code class="java">[root@imooc ~]# cd /usr/local/redis/redis-5.0.2/
[root@imooc redis-5.0.2]# vim redis.conf    #打开后台启动
136行 daemonize no 改成 daemonize yes
[root@imooc redis-5.0.2]# ./src/redis-server redis.conf
关闭终端打开全新终端
[root@imooc ~]# netstat -tulpn
tcp        0        0        127.0.0.1:6379 ...     6338/./src/redis-se

如果关闭
kill -9 6338
</code></pre>
<h5 id="redis使用"><a href="#redis使用" class="headerlink" title="redis使用"></a>redis使用</h5><pre><code class="java">[root@imooc redis-5.0.2]# ./src/redis-cli    #执行redis内置指令
127.0.0.1:6379&gt; ping        #启动成功
PONG
127.0.0.1:6379&gt; exit        #退出
[root@imooc redis-5.0.2]# ./src/redis-cli shutdown  #更加安全的关闭redis

报错(添加log文件 将redis命令行的结果打印到log中)
https://blog.csdn.net/qq_46127735/article/details/113933690


为了保护安全将port从6379改为6380
[root@imooc redis-5.0.2]# vim redis.conf
/port 寻找92行
port 6380
[root@imooc redis-5.0.2]# ./src/redis-cli -p 6380
127.0.0.1:6380&gt; select 0        #当前使用第几号数据库
127.0.0.1:6380&gt; select 15
[root@imooc redis-5.0.2]# vim redis.conf
在186行 可以改变数据连接数量
databases 15→255
    
[root@imooc redis-5.0.2]# vim redis.conf
507行注释去掉 此行是输入密码
requirepass panchunyao123
再次登录就 
127.0.0.1:6380&gt; auth panchunyao123

redis中有一个dump.rdb 全量备份 同时备份到磁盘中
</code></pre>
<h3 id="Redis通用命令"><a href="#Redis通用命令" class="headerlink" title="Redis通用命令"></a>Redis通用命令</h3><table>
<thead>
<tr>
<th align="center">命令</th>
<th align="center">示例</th>
<th align="center">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center">select</td>
<td align="center">select 0</td>
<td align="center">选择0号数据库</td>
</tr>
<tr>
<td align="center">set</td>
<td align="center">set name lily</td>
<td align="center">设置key&#x3D;name, value&#x3D;lily</td>
</tr>
<tr>
<td align="center">get</td>
<td align="center">get hello</td>
<td align="center">获得key&#x3D;hello结果</td>
</tr>
<tr>
<td align="center">keys</td>
<td align="center">keys he*</td>
<td align="center">根据Pattern表达查询符合条件的key</td>
</tr>
<tr>
<td align="center">dbsize</td>
<td align="center">dbsize</td>
<td align="center">返回key的总数</td>
</tr>
<tr>
<td align="center">exists</td>
<td align="center">exists a</td>
<td align="center">检查key&#x3D;a是否存在</td>
</tr>
<tr>
<td align="center">del</td>
<td align="center">del a</td>
<td align="center">删除key&#x3D;a的数据</td>
</tr>
<tr>
<td align="center">expire</td>
<td align="center">expire hello 20</td>
<td align="center">设置key&#x3D;hello 20秒后过期</td>
</tr>
<tr>
<td align="center">ttl</td>
<td align="center">ttl hello</td>
<td align="center">查看key&#x3D;a的过期剩余时间</td>
</tr>
</tbody></table>
<pre><code class="java">[root@imooc redis-5.0.2]# ./src/redids-cli -p 6380   #重新连接到端口
127.0.0.1:6380&gt; select 10
127.0.0.1:6380[10]&gt; set name lily   #十号数据库中增加key=name value=lily
127.0.0.1:6380[10]&gt; get name  =&gt; &quot;lily&quot;
127.0.0.1:6380[10]&gt; select 9
127.0.0.1:6380[9]&gt; get name =&gt;(nil)
127.0.0.1:6380[9]&gt; set name kitty
127.0.0.1:6380[9]&gt; get name =&gt;&quot;kitty&quot;
127.0.0.1:6380[9]&gt; keys *  #列举表达式能匹配的所有key
127.0.0.1:6380[9]&gt; set sex male
127.0.0.1:6380[9]&gt; keys *
127.0.0.1:6380[9]&gt; keys n* #模糊匹配表达式
127.0.0.1:6380[9]&gt; dbsize  #显示当前数据库的总量 =&gt; 2个 =&gt; &quot;name&quot;  &quot;sex&quot;
127.0.0.1:6380[9]&gt; del sex #删除 =&gt; 1 返回0则不存在
127.0.0.1:6380[9]&gt; expire name 30   #生效开始之后30秒存活时间
127.0.0.1:6380[9]&gt; ttl name #查看存活时间 时间一到自动清除     keys*中无name数据
</code></pre>
<h3 id="Redis数据类型"><a href="#Redis数据类型" class="headerlink" title="Redis数据类型"></a><span style = "color:red">Redis数据类型</span></h3><ul>
<li><h5 id="String-字符串类型-String最大512mb-建议单个kv不超过100kb"><a href="#String-字符串类型-String最大512mb-建议单个kv不超过100kb" class="headerlink" title="String - 字符串类型 (String最大512mb 建议单个kv不超过100kb)"></a>String - 字符串类型 (<u>String最大512mb 建议单个kv不超过100kb</u>)</h5></li>
</ul>
<table>
<thead>
<tr>
<th align="center">键</th>
<th align="center">值</th>
</tr>
</thead>
<tbody><tr>
<td align="center">name</td>
<td align="center">Lily</td>
</tr>
<tr>
<td align="center">counter</td>
<td align="center">3321</td>
</tr>
<tr>
<td align="center">sn</td>
<td align="center">7361-7749</td>
</tr>
</tbody></table>
<h6 id="字符串命令"><a href="#字符串命令" class="headerlink" title="字符串命令"></a>字符串命令</h6><table>
<thead>
<tr>
<th align="center">命令</th>
<th align="center">示例</th>
<th align="center">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center">get</td>
<td align="center">get hello</td>
<td align="center">获取key&#x3D;hello结果</td>
</tr>
<tr>
<td align="center">set</td>
<td align="center">set hello world</td>
<td align="center">设置key&#x3D;hello, value&#x3D;hello</td>
</tr>
<tr>
<td align="center">mset mget</td>
<td align="center">mset hello world java best<br />mget hello java</td>
<td align="center">一次性设置或者获取多个值</td>
</tr>
<tr>
<td align="center">del</td>
<td align="center">del hello</td>
<td align="center">删除key&#x3D;hello</td>
</tr>
<tr>
<td align="center">incr&#x2F;decr</td>
<td align="center">incr count<br/>decr count</td>
<td align="center">key值自增&#x2F;自减1</td>
</tr>
<tr>
<td align="center">incrby&#x2F;decrby</td>
<td align="center">incrby count 99<br/>decrby count 99</td>
<td align="center">自增自减指定步长</td>
</tr>
</tbody></table>
<pre><code class="java">127.0.0.1:6380[9]&gt; select 10 
127.0.0.1:6380[10]&gt; set name lily
127.0.0.1:6380[10]&gt; set sex 18
127.0.0.1:6380[10]&gt; set birthday 1998-03-11
127.0.0.1:6380[10]&gt; keys *
1) &quot;birthday&quot;  2)&quot;name&quot;  3)&quot;sex&quot;
127.0.0.1:6380[10]&gt; mset name1 kitty sex1 20 birthday1 2001-03-02 #一次性设置多个键值对
127.0.0.1:6380[10]&gt; mget name sex birthday  #一次性提取多个
127.0.0.1:6380[10]&gt; clear  #当前屏幕清空
127.0.0.1:6380[10]&gt; incr age  #将指定的数字自增+1
127.0.0.1:6380[10]&gt; set age 20
127.0.0.1:6380[10]&gt; keys age =&gt; &quot;age&quot;
127.0.0.1:6380[10]&gt; get age =&gt; &quot;20&quot;
127.0.0.1:6380[10]&gt; incr age =&gt; (integer) 22 #不可以自增字符串噢
127.0.0.1:6380[10]&gt; decrby age 3 #对指定的key自减 =&gt; 20-3=17
127.0.0.1:6380[10]&gt; del age #删除某个key
</code></pre>
<ul>
<li><h5 id="Hash-Hash类型"><a href="#Hash-Hash类型" class="headerlink" title="Hash - Hash类型"></a>Hash - Hash类型</h5></li>
</ul>
<h5 id="Hash类型用于存储结构化数据"><a href="#Hash类型用于存储结构化数据" class="headerlink" title="Hash类型用于存储结构化数据"></a>Hash类型用于存储结构化数据</h5><p>↓↓↓ ↓↓↓ key &#x3D; <strong>emp:1</strong> ↓↓↓ ↓↓↓ 在value中又产生一个键值对[下面全是单个的emp:1的key值]</p>
<table>
<thead>
<tr>
<th align="center">name</th>
<th align="center">smith</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><strong>age</strong></td>
<td align="center">35</td>
</tr>
<tr>
<td align="center"><strong>birthday</strong></td>
<td align="center">2001-02-02</td>
</tr>
<tr>
<td align="center"><strong>height</strong></td>
<td align="center">178</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th align="center">命令</th>
<th align="center">示例</th>
<th align="center">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center">hget</td>
<td align="center">hget emp:1 age</td>
<td align="center">获取hash中key&#x3D;age的值</td>
</tr>
<tr>
<td align="center">hset</td>
<td align="center">hset emp:1 age 23</td>
<td align="center">设置hash中age&#x3D;23</td>
</tr>
<tr>
<td align="center">hmset<br />hmget<br />hgetall<br /></td>
<td align="center">hmset emp:1 age 30 name kaka<br />hmget emp:1 age name<br />hgetall emp:1<br /></td>
<td align="center">设置hash多个值<br />获取hash多个值<br />获取hash所有值<br /></td>
</tr>
<tr>
<td align="center">hdel</td>
<td align="center">hdel emp:1 age</td>
<td align="center">删除emp:1的age</td>
</tr>
<tr>
<td align="center">hexists</td>
<td align="center">hexists emp:1 name</td>
<td align="center">检查是否存在</td>
</tr>
<tr>
<td align="center">hlen</td>
<td align="center">hlen emp:1</td>
<td align="center">获取指定长度</td>
</tr>
</tbody></table>
<pre><code class="java">127.0.0.1:6380[1]&gt; hset emp:1 name zhangsan       #设置某个hash值
127.0.0.1:6380[1]&gt; hset emp:1 age 35
127.0.0.1:6380[1]&gt; hset emp:1 birthday 2001-02-02
127.0.0.1:6380[1]&gt; hset emp:1 height 178
127.0.0.1:6380[1]&gt; keys * =&gt; &quot;emp:1&quot;
127.0.0.1:6380[1]&gt; hget emp:1 name    #获取指定hash值 =&gt;&quot;zhangsan&quot;
127.0.0.1:6380[1]&gt; hget emp:1 age =&gt; &quot;35&quot;
127.0.0.1:6380[1]&gt; hgetall emp:1 #提取所有的数据 

127.0.0.1:6380[1]&gt; hmset emp:2 name lisa age 23 birthday 1990-05-03 height 165
127.0.0.1:6380[1]&gt; hgetall emp:2
127.0.0.1:6380[1]&gt; del emp:2     #删除整个对象
127.0.0.1:6380[1]&gt; hlen emp:1 =&gt; (integer) 4     #代表在emp:1中有4个属性
127.0.0.1:6380[1]&gt; hgetall emp:1 
127.0.0.1:6380[1]&gt; hexists emp:1 name  #判断属性是否存在 是则返回1
</code></pre>
<ul>
<li><h5 id="List-列表类型"><a href="#List-列表类型" class="headerlink" title="List - 列表类型"></a>List - 列表类型</h5><ul>
<li>List列表就是一系列字符串的”数组”, 按插入顺序排序</li>
<li>List列表最大长度为2的32次方-1, 可以包含40亿个元素</li>
</ul>
<h6 id="List命令"><a href="#List命令" class="headerlink" title="List命令"></a>List命令</h6><ul>
<li><strong>rpush listkey c b a</strong> - 右侧插入 <u>先c后b最后a</u></li>
<li><strong>lpush listkey f e d</strong> - 左侧插入 <u>先f后e最后d</u>         <em>d e f c b a</em></li>
<li><strong>rpop listkey</strong> - 右侧弹出          <em>d e f c b</em></li>
<li><strong>lpop listkey</strong> -左侧弹出             <em>e f c b</em></li>
</ul>
</li>
</ul>
<pre><code class="java">127.0.0.1:6380[1]&gt; rpush list c =&gt;(integer) 1
127.0.0.1:6380[1]&gt; lrange list 0 -1  #输出指定列表起始到结束范围内的所有元素 [开始 末尾]
127.0.0.1:6380[1]&gt; rpush list b a =&gt;(integer) 3
127.0.0.1:6380[1]&gt; lrange list 0 -1 =&gt; &quot;c&quot; &quot;b&quot; &quot;a&quot;
127.0.0.1:6380[1]&gt; lpush list f      #在左侧插入
127.0.0.1:6380[1]&gt; lrange list 0 -1 =&gt; &quot;f&quot; &quot;c&quot; &quot;b&quot; &quot;a&quot;
127.0.0.1:6380[1]&gt; lpush list b a
127.0.0.1:6380[1]&gt; lrange list 0 -1 =&gt; &quot;a&quot; &quot;b&quot; &quot;f&quot; &quot;c&quot; &quot;b&quot; &quot;a&quot;
127.0.0.1:6380[1]&gt; rpop list =&gt; &quot;a&quot;
127.0.0.1:6380[1]&gt; lrange list 0 -1 =&gt; &quot;a&quot; &quot;b&quot; &quot;f&quot; &quot;c&quot; &quot;b&quot;
127.0.0.1:6380[1]&gt; lpop list =&gt; &quot;b&quot; &quot;f&quot; &quot;c&quot; &quot;b&quot;
</code></pre>
<ul>
<li><h5 id="Set-集合类型-Zset-有序集合类型"><a href="#Set-集合类型-Zset-有序集合类型" class="headerlink" title="Set - 集合类型      Zset - 有序集合类型"></a>Set - 集合类型      Zset - 有序集合类型</h5><ul>
<li>Set集合是字符串的无序集合, 集合成员是唯一的</li>
<li>Zset集合是字符串的有序集合, 集合成员是唯一的</li>
</ul>
</li>
</ul>
<pre><code class="java">Set集合
127.0.0.1:6380[1]&gt; sadd set1 a =&gt; 1
127.0.0.1:6380[1]&gt; keys * =&gt; &quot;set1&quot; &quot;emp:1&quot; &quot;list&quot;
127.0.0.1:6380[1]&gt; sadd set1 b =&gt; &quot;b&quot;
127.0.0.1:6380[1]&gt; sadd set1 c =&gt; &quot;c&quot;
127.0.0.1:6380[1]&gt; sadd set1 d =&gt; &quot;d&quot;
127.0.0.1:6380[1]&gt; sadd set1 e =&gt; &quot;e&quot;
127.0.0.1:6380[1]&gt; sadd set1 f =&gt; &quot;f&quot;
127.0.0.1:6380[1]&gt; smembers set1 =&gt; &quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;d&quot; &quot;e&quot; &quot;f&quot; &quot;e&quot;  #字母顺序打乱 乱序

127.0.0.1:6380[1]&gt; sadd set2 d     #创建一个set2与set1有重叠
127.0.0.1:6380[1]&gt; sadd set2 e
127.0.0.1:6380[1]&gt; sadd set2 f
127.0.0.1:6380[1]&gt; sadd set2 h
127.0.0.1:6380[1]&gt; sadd set2 g
127.0.0.1:6380[1]&gt; smembers set2 =&gt; &quot;d&quot; &quot;h&quot; &quot;e&quot; &quot;f&quot; &quot;g&quot;
127.0.0.1:6380[1]&gt; sinter set1 set2 =&gt;     &quot;d&quot; &quot;f&quot; &quot;e&quot;     #取其中的交集
127.0.0.1:6380[1]&gt; sunion set1 set2 =&gt;     &quot;d&quot; &quot;g&quot; &quot;b&quot; &quot;c&quot; &quot;h&quot; &quot;f&quot; &quot;e&quot; &quot;a&quot;    #取其中的并集[取并集并去除重复元素]
127.0.0.1:6380[1]&gt; sdiff set1 set2 #寻找叉集(在set1有 在set2中没有[两个部分交集排除在外])
=&gt; &quot;a&quot; &quot;c&quot; &quot;b&quot;
127.0.0.1:6380[1]&gt; sdiff set2 set1 =&gt; &quot;h&quot; &quot;g&quot;
</code></pre>
<pre><code class="java">Zset集合
127.0.0.1:6380[1]&gt; zadd zset1 100 a =&gt;1
127.0.0.1:6380[1]&gt; zadd zset1 101 b =&gt; 1
127.0.0.1:6380[1]&gt; zrange zset1 0 -1 =&gt; &quot;a&quot; &quot;b&quot; #按照顺序排序
127.0.0.1:6380[1]&gt; zadd zset1 99 c =&gt; 1  
127.0.0.1:6380[1]&gt; zrange zset1 0 -1 =&gt; &quot;c&quot; &quot;a&quot; &quot;b&quot; #按照分数升序排列
127.0.0.1:6380[1]&gt; zadd zset1 102 d
127.0.0.1:6380[1]&gt; zadd zset1 103 e
127.0.0.1:6380[1]&gt; zadd zset1 104 f
127.0.0.1:6380[1]&gt; zrange zset1 0 -1 withscores #升序打印分数
127.0.0.1:6380[1]&gt; zrangebyscore zset1 100 103 #符合score从100-103的名字
</code></pre>
<h3 id="Java客户端-Jedis"><a href="#Java客户端-Jedis" class="headerlink" title="Java客户端-Jedis"></a>Java客户端-Jedis</h3><ul>
<li>Jedis是Java语言开发的Redis客户端工具包</li>
<li>Jedis只是对Redis命令的封装, 掌握Redis命令便可轻易上手</li>
</ul>
<h6 id="允许远程访问需要改文件"><a href="#允许远程访问需要改文件" class="headerlink" title="允许远程访问需要改文件"></a>允许远程访问需要改文件</h6><pre><code class="java">[root@imooc ~]# cd /usr/local/redis/redis-5.0.2/
[root@imooc redis-5.0.2]# vim redis.conf
第88行 protected-mode yes 将yes设置为no
第69行 bind 127.0.0.1 改为 bind 0.0.0.0     #四个0代表所有ip主机都可以访问进来【真正开发时要用特定的ip号】
[root@imooc redis-5.0.2]# ./src/redis-server redis.conf
[root@imooc redis-5.0.2]# netstat -tulpn | grep redis
[root@imooc redis-5.0.2]# firewall-cmd --zone=public --add-port=6379/tcp --permanent
[root@imooc redis-5.0.2]# firewall-cmd --reload
[root@imooc redis-5.0.2]# ifconfig =&gt; IP地址: 192.168.170.135

[root@imooc redis-5.0.2]# ./src/redis-cli -p 6379
</code></pre>
<p>报错连接超时：<br><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_41830655/article/details/106114663">Java远程连接Redis时出现: java.net.SocketTimeoutException: connect timed out的解决办法-CSDN博客</a><br><a target="_blank" rel="noopener" href="https://blog.csdn.net/zinbin/article/details/109336852">Java连接Redis connection timed out 报错的解决方法_caused by: io.netty.channel.abstractchannel$annota-CSDN博客</a></p>
<pre><code class="java">systemctl start firewalld  #开启防火墙
systemctl enable firewalld.service  #开机自启动防火墙

systemctl stop firewalld.service #关闭防火墙
重启 Redis 服务端
ps -ef|grep redis    #查看 Redis 进程 
kill -s 9 进程号      #杀死 Redis 进程
[root@imooc redis-5.0.2]# ./src/redis-server redis.conf 
</code></pre>
<pre><code class="java">package com.imooc.jedis;

import redis.clients.jedis.Jedis;

import java.util.List;

public class JedisTestor &#123;
    public static void main(String[] args) &#123;
        Jedis jedis = new Jedis(&quot;192.168.170.135&quot;, 6379);
        try &#123;
            jedis.auth(&quot;root&quot;);
            jedis.select(2);
            System.out.println(&quot;Redis连接成功&quot;);
            //字符串
            jedis.set(&quot;sn&quot;, &quot;7781-9938&quot;);
            String sn = jedis.get(&quot;sn&quot;);
            System.out.println(sn);
            jedis.mset(new String[]&#123;&quot;title&quot;, &quot;婴幼儿奶粉&quot;, &quot;num&quot;, &quot;20&quot;&#125;);
            List&lt;String&gt; goods = jedis.mget(new String[]&#123;&quot;sn&quot;, &quot;title&quot;, &quot;num&quot;&#125;);
            System.out.println(goods);
            Long num = jedis.incr(&quot;num&quot;);
            System.out.println(num);
        &#125; catch (Exception e) &#123;
            throw new RuntimeException(e);
        &#125; finally &#123;
            jedis.close();
        &#125;
    &#125;
&#125;
</code></pre>
<pre><code class="java">pom.xml【两个jar:    jedis-2.9.0.jar        fastjson-1.2.62.jar】
&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;
         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;
    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;

    &lt;groupId&gt;org.example&lt;/groupId&gt;
    &lt;artifactId&gt;Jedis_test&lt;/artifactId&gt;
    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;
    &lt;dependencies&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;redis.clients&lt;/groupId&gt;
            &lt;artifactId&gt;jedis&lt;/artifactId&gt;
            &lt;version&gt;2.9.0&lt;/version&gt;
        &lt;/dependency&gt;
    &lt;/dependencies&gt;

    &lt;properties&gt;
        &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;
        &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;
        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;
    &lt;/properties&gt;

&lt;/project&gt;
</code></pre>
<pre><code class="java">[root@imooc redis-5.0.2]# ./src/redis-cli
127.0.0.1:6379&gt; auth root
127.0.0.1:6379&gt; select 2
127.0.0.1:6379[2]&gt; keys * =&gt; &quot;sn&quot;
127.0.0.1:6379[2]&gt; get sn =&gt; &quot;7781-9938&quot;
【此处更换新的java代码再次插入 奶粉...】
------------------------------------------------------------------
jedis.mset(new String[]&#123;&quot;title&quot;, &quot;婴幼儿奶粉&quot;, &quot;num&quot;, &quot;20&quot;&#125;);
List&lt;String&gt; goods = jedis.mget(new String[]&#123;&quot;sn&quot;, &quot;title&quot;, &quot;num&quot;&#125;);
------------------------------------------------------------------
127.0.0.1:6379[2]&gt; keys * =&gt; &quot;sn&quot; &quot;num&quot; &quot;title&quot;
127.0.0.1:6379[2]&gt; get num =&gt; 21
127.0.0.1:6379[2]&gt; get title =&gt; \xe5\xa9\xb4\xe5\xb9\xbc\xe5...
</code></pre>
<h3 id="Jedis操作Hash类型"><a href="#Jedis操作Hash类型" class="headerlink" title="Jedis操作Hash类型"></a>Jedis操作Hash类型</h3><pre><code class="java">package com.imooc.jedis;

import redis.clients.jedis.Jedis;

import java.util.HashMap;
import java.util.List;
import java.util.Map;

public class JedisTestor &#123;
    public static void main(String[] args) &#123;
        Jedis jedis = new Jedis(&quot;192.168.170.135&quot;, 6379);
        try &#123;
            jedis.auth(&quot;root&quot;);
            jedis.select(2);
            System.out.println(&quot;Redis连接成功&quot;);
            //字符串
            jedis.set(&quot;sn&quot;, &quot;7781-9938&quot;);
            String sn = jedis.get(&quot;sn&quot;);
            System.out.println(sn);
            jedis.mset(new String[]&#123;&quot;title&quot;, &quot;婴幼儿奶粉&quot;, &quot;num&quot;, &quot;20&quot;&#125;);
            List&lt;String&gt; goods = jedis.mget(new String[]&#123;&quot;sn&quot;, &quot;title&quot;, &quot;num&quot;&#125;);
            System.out.println(goods);
            Long num = jedis.incr(&quot;num&quot;);
            System.out.println(num);

            //Hash
            jedis.hset(&quot;student:3312&quot;, &quot;name&quot;, &quot;张晓明&quot;);
            String name = jedis.hget(&quot;student:3312&quot;, &quot;name&quot;);
            System.out.println(name);

            Map&lt;String,String&gt; studentMap = new HashMap();
            studentMap.put(&quot;name&quot;, &quot;李兰&quot;);
            studentMap.put(&quot;age&quot;, &quot;18&quot;); //所有数据类型都是String
            studentMap.put(&quot;id&quot;, &quot;3313&quot;);
            jedis.hmset(&quot;student:3313&quot;, studentMap);
            Map&lt;String,String&gt; smap = jedis.hgetAll(&quot;student:3313&quot;);
            System.out.println(smap);
        &#125; catch (Exception e) &#123;
            throw new RuntimeException(e);
        &#125; finally &#123;
            jedis.close();
        &#125;
    &#125;
&#125;

---------------------------------------------------------------
Redis连接成功
7781-9938
[7781-9938, 婴幼儿奶粉, 20]
21
张晓明
&#123;name=李兰, age=18, id=3313&#125;
</code></pre>
<pre><code class="java">127.0.0.1:6380[2]&gt; hgetall student:3313
</code></pre>
<h3 id="Jedis操作List类型"><a href="#Jedis操作List类型" class="headerlink" title="Jedis操作List类型"></a>Jedis操作List类型</h3><pre><code class="java">package com.imooc.jedis;

import redis.clients.jedis.Jedis;

import java.util.HashMap;
import java.util.List;
import java.util.Map;

public class JedisTestor &#123;
    public static void main(String[] args) &#123;
        Jedis jedis = new Jedis(&quot;192.168.170.135&quot;, 6379);
        try &#123; //List
            jedis.del(&quot;letter&quot;); //要先删除不然lpop、rpop的时候会追加数据
            jedis.rpush(&quot;letter&quot;, new String[]&#123;&quot;d&quot;, &quot;e&quot;, &quot;f&quot;&#125;);
            jedis.lpush(&quot;letter&quot;, new String[]&#123;&quot;c&quot;, &quot;b&quot;, &quot;a&quot;&#125;);
            List&lt;String&gt; letter = jedis.lrange(&quot;letter&quot;, 0, -1);
            jedis.lpop(&quot;letter&quot;);
            jedis.rpop(&quot;letter&quot;);
            letter = jedis.lrange(&quot;letter&quot;, 0, -1);
            System.out.println(letter);
        &#125; catch (Exception e) &#123;
            throw new RuntimeException(e);
        &#125; finally &#123;
            jedis.close();
        &#125;
    &#125;
&#125;
----————--——----------------------------------------------------
[a, b, c, d, e, f] =&gt; [b, c, d, e]
</code></pre>
<h3 id="利用Jedis缓存数据-放在内存处理-速度快"><a href="#利用Jedis缓存数据-放在内存处理-速度快" class="headerlink" title="利用Jedis缓存数据 [放在内存处理 速度快]"></a>利用Jedis缓存数据 [放在内存处理 速度快]</h3><h6 id="缓存数据：资料不要太大-信息比较稳定更新次数较低"><a href="#缓存数据：资料不要太大-信息比较稳定更新次数较低" class="headerlink" title="缓存数据：资料不要太大 信息比较稳定更新次数较低"></a>缓存数据：资料不要太大 信息比较稳定更新次数较低</h6><pre><code class="java">Goods.java
public class Goods &#123;
    private Integer goodsId;
    private String goodsName;
    private String description;
    private Float price;
    Getter + Setter + Constructor[空+全]
&#125;
</code></pre>
<pre><code class="java">CacheSample.java
package com.imooc.jedis;

import com.alibaba.fastjson.JSON;
import redis.clients.jedis.Jedis;

import java.util.ArrayList;
import java.util.List;

public class CacheSample &#123;
    public CacheSample()&#123; //数据初始化
        Jedis jedis = new Jedis(&quot;192.168.170.135&quot;, 6379);
        try &#123;
            List&lt;Goods&gt; goodsList = new ArrayList();
            goodsList.add(new Goods(8818,&quot;红富士苹果&quot;,&quot;&quot;,3.5f));
            goodsList.add(new Goods(8819,&quot;赣南脐橙&quot;,&quot;&quot;,5f));
            goodsList.add(new Goods(8820,&quot;进口香蕉&quot;,&quot;&quot;,2f));
            //javabean序列化为json字符串保存到java里
            jedis.auth(&quot;root&quot;);
            jedis.select(3);
            for (Goods goods : goodsList)&#123;
                String json = JSON.toJSONString(goods);
                System.out.println(json);
                String key = &quot;goods:&quot; + goods.getGoodsId();
                jedis.set(key, json); //key + value[序列化为json]
            &#125;
        &#125; catch (Exception e) &#123;
            throw new RuntimeException(e);
        &#125; finally &#123;
            jedis.close();
        &#125;
    &#125;

    public static void main(String[] args) &#123;
        new CacheSample();
    &#125;
&#125;
________________________________________________________________
&#123;&quot;description&quot;:&quot;&quot;,&quot;goodsId&quot;:8818,&quot;goodsName&quot;:&quot;红富士苹果&quot;,&quot;price&quot;:3.5&#125;
&#123;&quot;description&quot;:&quot;&quot;,&quot;goodsId&quot;:8819,&quot;goodsName&quot;:&quot;赣南脐橙&quot;,&quot;price&quot;:5.0&#125;
&#123;&quot;description&quot;:&quot;&quot;,&quot;goodsId&quot;:8820,&quot;goodsName&quot;:&quot;进口香蕉&quot;,&quot;price&quot;:2.0&#125;
________________________________________________________________
127.0.0.1:6379[3]&gt; keys *
127.0.0.1:6379[3]&gt; &quot;goods:8820&quot; &quot;goods:8819&quot; &quot;goods:8818&quot;
127.0.0.1:6379[3]&gt; get goods:8820
</code></pre>
<hr>
<h6 id="更新"><a href="#更新" class="headerlink" title="更新"></a>更新</h6><pre><code class="java">CacheSample.java
package com.imooc.jedis;

import com.alibaba.fastjson.JSON;
import redis.clients.jedis.Jedis;

import java.util.ArrayList;
import java.util.List;
import java.util.Scanner;

public class CacheSample &#123;
    public CacheSample()&#123; //数据初始化
        Jedis jedis = new Jedis(&quot;192.168.170.135&quot;, 6379);
        try &#123;
            List&lt;Goods&gt; goodsList = new ArrayList();
            goodsList.add(new Goods(8818,&quot;红富士苹果&quot;,&quot;&quot;,3.5f));
            goodsList.add(new Goods(8819,&quot;赣南脐橙&quot;,&quot;&quot;,5f));
            goodsList.add(new Goods(8820,&quot;进口香蕉&quot;,&quot;&quot;,2f));
            //javabean序列化为json字符串保存到java里
            jedis.auth(&quot;root&quot;);
            jedis.select(3);
            for (Goods goods : goodsList)&#123;
                String json = JSON.toJSONString(goods);
                System.out.println(json);
                String key = &quot;goods:&quot; + goods.getGoodsId();
                jedis.set(key, json); //key + value[序列化为json]
            &#125;
        &#125; catch (Exception e) &#123;
            throw new RuntimeException(e);
        &#125; finally &#123;
            jedis.close();
        &#125;
    &#125;

    public static void main(String[] args) &#123;
        new CacheSample();
        System.out.println(&quot;请输入要查询的商品编号:&quot;);
        String goodsId = new Scanner(System.in).next();
        Jedis jedis = new Jedis(&quot;192.168.170.135&quot;);
        jedis.auth(&quot;root&quot;);
        jedis.select(3);
        String key = &quot;goods:&quot; + goodsId;
        if (jedis.exists(key))&#123;
            String json = jedis.get(key);
            System.out.println(json);
            //由json转回到java对象
            Goods g = JSON.parseObject(json, Goods.class);
            System.out.println(g.getGoodsName());
            System.out.println(g.getPrice());
        &#125;else&#123;
            System.out.println(&quot;您输入的商品编号不存在，请重新输入!&quot;);
        &#125;
    &#125;
&#125;
</code></pre>

    </div>

    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
    <div id="comment">
        <div id="gitalk-container">
        </div>
    </div>
    
</div>
                     
<footer id="footer">
    <div class="footer-wrap">
        <div>
            © 2018 - 2025 P-luminary
            <span class="footer-icon">
                <a-icon type="flag" theme="filled" /></span>
            @Asuna
        </div>
        <div></div>
        <div>Based on the <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo Engine</a>
<!--         & <a target="_blank" rel="noopener" href="https://github.com/korilin/hexo-theme-particle">Particle Theme</a></div> -->
        
    </div>

</footer>

<script src="/js/highlight.min.js"></script>
<script src="/js/particle.js"></script>
                </div>
            </div>
        </transition>
    </div>

    <script>
    new Vue({
        el: "#layout",
        data: {
            show_page: false,
            onload_menu: false,
            menu_show: false,
            card_top: 100
        },
        created: function () {
            var that = this
            window.onload = function () {
                that.show_page = true
                document.getElementById("loadcontent").style.opacity = 0
                setTimeout(function () {
                    document.getElementById("loadleft").style.width = 0
                    document.getElementById("loadright").style.width = 0
                }, 300)
                setTimeout(function () {
                    document.getElementById("loading").style = "display:none"
                }, 600)
            }
        },
        mounted: function () {
            var that = this
            window.addEventListener('scroll', function (e) {
                that.menu_show = false
            })
        },
        methods: {
            home_click: function () {
                window.scrollTo({
                    top: window.innerHeight - 80,
                    behavior: "smooth",
                });
            }
        }
    })
</script>

<script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>
<script>
    const gitalk = new Gitalk({
        clientID: '',
        clientSecret: '',
        repo: 'hexo-theme-particle',      // The repository of store comments,
        owner: 'P-luminary',
        admin: ['P-luminary'],
        language: 'en',
        id: location.pathname,      // Ensure uniqueness and length less than 50
        distractionFreeMode: true  // Facebook-like distraction free mode
    })
    gitalk.render('gitalk-container')
</script>

</body>

</html>