
<!DOCTYPE html>
<html lang="zh_CH ">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>P-luminary || 仿真计算器</title>
    <meta name="author" content="Asuna">
    <meta name="description" content=" ">
    <meta name="keywords" content=" ">
    <link rel="icon" href="/https://raw.githubusercontent.com/P-luminary/images/master/data/asuna.jpg">
    <link rel="stylesheet" href="/css/antd.min.css">
    
    <link rel="stylesheet" href="/css/maiden-theme.css">
    
    <script src="/js/vue.js"></script>
    <script src="/js/antd.min.js"></script>
<meta name="generator" content="Hexo 6.1.0"></head>

<body>

    <div id="loading"
        style="height: 100vh; width: 100%; position: fixed;display: flex;z-index: 200; justify-content: space-between;">
        <div id="loadleft" style="width: 50%;background-color: #ffffff;transition: width 0.6s ease-out;"></div>
        <div id="loadright" style="width: 50%;background-color: #ffffff;transition: width 0.6s ease-out;"></div>
        <div
            style="position: fixed; height: 100vh; width: 100%;display: flex;justify-content: center;align-items: center;">
            <div id="loadcontent"
                style="width:400px;height:400px;padding:50px;border-radius:50%;display:flex;justify-content:center;align-items:center;border:solid 10px#a3ddfb; text-align:center;opacity:1;transition:opacity 0.3s ease-out;">
                <div>
                    <h2>LOADING...</h2>
                    <p>加载过慢请开启缓存(浏览器默认开启)</p>
                    <div>
                        <img src="/dancingkitty.gif" alt="loading">
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="layout">
        <transition name="into">
            <div v-show="show_page" style="display: none;">
                <div id="menu_show">
                     
<nav id="menu">
    <div class="desktop-menu">
        <a href="/">
            <span class="title">P-luminary</span>
        </a>
        
        <a href="/">
            <span>
                <a-icon type="home" theme="filled" />
            </span>
            <span>home</span>
        </a>
        
        <a href="/tags/语法">
            <span>
                <a-icon type="tags" theme="filled" />
            </span>
            <span>tags</span>
        </a>
        
    </div>

    <div :class="'phone-menu ' + menu_show" id="phone-menu">
        <div :class="'title'" @click="menu_show=!menu_show">
            <span style="margin-right: 10px;">
                <a-icon type="appstore" theme="filled" />
            </span>
            <span>P-luminary</span>
        </div>
        <div class="items" v-show="menu_show">
            
            <a href="/">
                <div class="item">
                    <div style="min-width:20px; max-width:50px; width: 10%">
                        <a-icon type="home" theme="filled" />
                    </div>
                    <div style="min-width:100px;max-width: 150%;width: 20%;">home</div>
                </div>
            </a>
            
            <a href="/tags/语法">
                <div class="item">
                    <div style="min-width:20px; max-width:50px; width: 10%">
                        <a-icon type="tags" theme="filled" />
                    </div>
                    <div style="min-width:100px;max-width: 150%;width: 20%;">tags</div>
                </div>
            </a>
            
        </div>
        <div class="curtain" v-show="menu_show"></div>
    </div>

</nav>
                </div>

                <div id="main">
                     
<link rel="stylesheet" href="/css/post-body.css">
<div class="article">
    <div>
        <h1>仿真计算器 </h1>
    </div>
    <div class="info">
        <span class="date">
            <span class="icon">
                <a-icon type="calendar" theme="filled" />
            </span>
            2022/8/14
        </span>

        

        

        <span class="tags">
            <span class="icon">
                <a-icon type="tags" theme="filled" />
            </span>
            
            <span class="tag">
                
                <a href="/tags/前端" style=color:#ffa2c4>
                    前端
                </a>
            </span>
            
        </span>
        
    </div>

    <div class="content" v-pre>
        <h1 id="仿真计算器"><a href="#仿真计算器" class="headerlink" title="仿真计算器"></a>仿真计算器</h1><p>名称：<strong>仿windows计算器</strong> </p>
<p>功能：</p>
<ul>
<li>实现单击按钮录入数字</li>
<li>实现基础四则运算功能，并添加必要的异常处理，例如，除数为0</li>
<li>实现小数点功能并添加异常处理：小数点只能出现一次</li>
<li>实现正负号功能</li>
<li>实现退位功能，已经是最后一位时，显示框显示为零</li>
<li>清屏功能</li>
</ul>
<p>使用的知识点：</p>
<ul>
<li>利用大量的自定义函数实现业务逻辑</li>
<li>灵活运用事件及事件处理</li>
<li>培养异常处理的编程方法</li>
<li>培养并实践利用不同思路实现编程</li>
</ul>
<p>综合练习的目的：</p>
<ul>
<li>将css、html和js有效的进行技术组合，实现业务功能</li>
<li>锻炼和培养编程思想，解决问题的能力和方法</li>
<li>锻炼和培养多种编程思路，完成预先设定的目标</li>
</ul>
<hr>
<p>&lt; body onload&#x3D;”ff2()” &gt; <!--页面刷新、打开、加载时执行onload--></p>
<p>function init()  <!--初始化init--></p>
<blockquote>
<p><strong>isNaN</strong>()<br>一个函数接收一个参数，该参数可以是任意类型，而 函数会帮我们确定这个参数是否”不是数值”；isNaN()在接收到一个值之后，会尝试将这个值转换为数值，如果能转换成功则返回false，否则返回true</p>
</blockquote>
<blockquote>
<p><strong><u><span style = "color : red">添加js的时候 不要忘了三个地方</span></u></strong><br>① &lt; head &gt;中的引用<br><strong>&lt; script type&#x3D;”text&#x2F;javascript” src&#x3D;”mooc.js”&gt;&lt; &#x2F;script&gt;</strong></p>
<p>② body内要引用自动化加载<br><strong>&lt; body onload&#x3D;”init(),init_mooc()” &gt;</strong></p>
<p>③ id一定要提名<br><strong>&lt; input type&#x3D;”button” value&#x3D;”m” name&#x3D;”” id&#x3D;”imooc”&#x2F;&gt;</strong></p>
</blockquote>
<pre><code class="java">☆☆低级写法☆☆
&lt;body&gt;
  &lt;input type=&quot;button&quot; value=&quot;点我&quot; id=&quot;btn1&quot; onlick=&quot;ff1()&quot;
&lt;/body&gt;

function ff1()&#123;
    alter(&quot;我是ff1的输出结果&quot;)
&#125;
--------------------------------------------------
★★高级写法★★
&lt;body onload=&quot;ff1(),ff2()&quot;&gt;  自动初始化 加载 页面刷新
  &lt;input type=&quot;button&quot; value=&quot;点我&quot; id=&quot;btn1&quot;&gt;
  &lt;input type=&quot;button&quot; value=&quot;test2&quot; id=&quot;btn2&quot;&gt;
&lt;/body&gt;

function ff2()&#123;
    document.getElementById(&quot;btn1&quot;).onclick = funciton()&#123;
        alter(&quot;我是ff2的输出结果&quot;);
    &#125;
&#125;  
</code></pre>
<hr>
<h2 id="calc-html"><a href="#calc-html" class="headerlink" title="calc.html"></a>calc.html</h2><pre><code class="html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;&lt;/title&gt;
 &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;calc.css&quot; /&gt;
 &lt;script type=&quot;text/javascript&quot; src=&quot;calc.js&quot;&gt;&lt;/script&gt;
 &lt;script type=&quot;text/javascript&quot; src=&quot;imooc.js&quot;&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body onload=&quot;init(),init_mooc()&quot;&gt; 初始化 加载 页面刷新
    &lt;div id=&quot;div1&quot;&gt;
        &lt;form action=&quot;&quot;&gt;
        &lt;div id=&quot;div2&quot;&gt;
            &lt;input type=&quot;text&quot; name=&quot;num&quot; id=&quot;num&quot; /&gt;
        &lt;/div&gt;
        &lt;div id=&quot;div3&quot;&gt;
            &lt;input type=&quot;button&quot; value=&quot;c&quot; name=&quot;&quot; id=&quot;&quot; /&gt;
            &lt;input type=&quot;button&quot; value=&quot;←&quot; name=&quot;&quot; id=&quot;&quot; /&gt;
            &lt;input type=&quot;button&quot; value=&quot;+/-&quot; name=&quot;&quot; id=&quot;&quot; /&gt;
            &lt;input type=&quot;button&quot; value=&quot;/&quot; name=&quot;&quot; id=&quot;&quot; /&gt;
            &lt;input type=&quot;button&quot; value=&quot;1&quot; name=&quot;&quot; id=&quot;n1&quot; /&gt;
            &lt;input type=&quot;button&quot; value=&quot;2&quot; name=&quot;&quot; id=&quot;&quot; /&gt;
            &lt;input type=&quot;button&quot; value=&quot;3&quot; name=&quot;&quot; id=&quot;&quot; /&gt;
            &lt;input type=&quot;button&quot; value=&quot;*&quot; name=&quot;&quot; id=&quot;&quot; /&gt;
            &lt;input type=&quot;button&quot; value=&quot;4&quot; name=&quot;&quot; id=&quot;&quot; /&gt;
            &lt;input type=&quot;button&quot; value=&quot;5&quot; name=&quot;&quot; id=&quot;&quot; /&gt;
            &lt;input type=&quot;button&quot; value=&quot;6&quot; name=&quot;&quot; id=&quot;&quot; /&gt;
            &lt;input type=&quot;button&quot; value=&quot;-&quot; name=&quot;&quot; id=&quot;&quot; /&gt;
            &lt;input type=&quot;button&quot; value=&quot;7&quot; name=&quot;&quot; id=&quot;&quot; /&gt;
            &lt;input type=&quot;button&quot; value=&quot;8&quot; name=&quot;&quot; id=&quot;&quot; /&gt;
            &lt;input type=&quot;button&quot; value=&quot;9&quot; name=&quot;&quot; id=&quot;&quot; /&gt;
            &lt;input type=&quot;button&quot; value=&quot;+&quot; name=&quot;&quot; id=&quot;&quot; /&gt;
            &lt;input type=&quot;button&quot; value=&quot;0&quot; name=&quot;&quot; id=&quot;&quot; /&gt;
            &lt;input type=&quot;button&quot; value=&quot;.&quot; name=&quot;&quot; id=&quot;&quot; /&gt;
            &lt;input type=&quot;button&quot; value=&quot;=&quot; name=&quot;&quot; id=&quot;&quot; /&gt;
            &lt;input type=&quot;button&quot; value=&quot;m&quot; name=&quot;&quot; id=&quot;imooc&quot; /&gt;
        &lt;/div&gt;
        &lt;/form&gt;
    &lt;/div&gt;
&lt;/body&gt; 
&lt;/html&gt;
</code></pre>
<h2 id="calc-css"><a href="#calc-css" class="headerlink" title="calc.css"></a>calc.css</h2><pre><code class="css">*&#123;
    margin: 0px;
    padding: 0px;
&#125; //全意是：引用了这个定义的所有控件的内外边距都为0 不使用默认间距 使用自定义
div&#123;
    width: 170px;
&#125;
#div1&#123;
    top: 60px;
    left: 100px;
    position: absolute;
&#125;
input[type=&quot;button&quot;]&#123;
    width: 30px;
    margin-right: 5px;
    margin-top: 5px;
&#125;
input[type=&quot;text&quot;]&#123;
    width: 147px;
    text-align: right;
    background-color: white;
    border: 1px solid; 
    padding-right: 5px;
/* content-box 延伸 border-box 用已存在的空间增加边距 */
    box-sizing: border-box;
&#125;
/* 浮动的伪类 */
input[type=&quot;button&quot;]:hover&#123;
    background-color: red;
    border: 1px solid; 
&#125;
</code></pre>
<h2 id="calc-js"><a href="#calc-js" class="headerlink" title="calc.js"></a>calc.js</h2><pre><code class="js">function init()&#123;
    var num = document.getElementById(&quot;num&quot;); //得到文本框本身
    num.value=0;
    num.disabled=&quot;disabled&quot;; //禁用文本框输入
/*  var n1 = document.getElementById(&quot;n1&quot;); 
    n1.onclick=function()&#123;
        alert(&quot;123&quot;); &#125; */
    //获取所有的input
    var objButton = document.getElementsByTagName(&quot;input&quot;);
    var btn_num1;
    var fh;    //符号
    for(var i=0;i&lt;objButton.length;i++)&#123;
        objButton[i].onclick=function()&#123;
        if(isNumber(this.value))&#123;
//文本框以前的值+单击的数字 此时前面的num.value是上面的document
            // num.value=(num.value+this.value)*1;
            if(isNull(num.value))&#123;
                num.value=this.value;
            &#125;else&#123;
                num.value=num.value+this.value;
            &#125;
        &#125;else&#123;
            // alert(&quot;fei&quot;);
            var btn_num=this.value;
            switch (btn_num)&#123;
                case &quot;+&quot;: //↓ psrseInt(整数)转换为Number(整数+小数)
                    btn_num1=Number(num.value);
                    num.value=null;
                    fh=&quot;+&quot;;
                break;
                case &quot;-&quot;:
                    btn_num1=Number(num.value);
                    num.value=null;
                    fh=&quot;-&quot;;
                    break;
                case &quot;*&quot;:
                    btn_num1=Number(num.value);
                    num.value=null;
                    fh=&quot;*&quot;;
                    break;
                case &quot;/&quot;:
                    btn_num1=Number(num.value);
                    num.value=null;
                    fh=&quot;/&quot;;
                    break;
                case &quot;.&quot;: //只能单击一次
                    num.value=dec_number(num.value);
                    break;
                case &quot;←&quot;:
                    num.value=back(num.value);
                    break;
                case &quot;c&quot;:
                    num.value=&quot;0&quot;;
                    break;
                case &quot;+/-&quot;:
                    num.value=sign(num.value);
                    break;
                case &quot;=&quot;:
                    switch(fh)&#123;
                        case &quot;+&quot;:
                          num.value=btn_num1+num.value*1;
                        break;
                        case &quot;-&quot;:
                          num.value=btn_num1-num.value*1;
                        break;
                        case &quot;*&quot;:
                          num.value=btn_num1*num.value*1;
                        break;
                        case &quot;/&quot;:
                        //文本框内容默认为字符类型
                            if(Number(num.value)==0)&#123;
                                alert(&quot;除数不能为0&quot;);
                                num.value=0;
                            &#125;else&#123;
                                num.value=btn_num1/num.value*1;
                            &#125;
                        break;
                    &#125;
                    break;
            &#125;
        &#125;//用匿名函数给每个按钮进行事件添加
    //this单击是谁就是谁 objButton[i]]
        &#125;
    &#125;
&#125;
//正负号
function sign(n)&#123;
    if(n.indexOf(&quot;-&quot;)==-1)&#123;
        n=&quot;-&quot;+n;
    &#125;else&#123;//从非第一个字符开始
        n=n.substr(1,n.length);
    &#125;
    // n=Number(n)*-1;
    return n;
&#125;
//退位键
function back(n)&#123;//退位键
    /*if(!isNull(n))&#123;//如果不等于空
        n=n.substr(0,n.length-1);//字符串截取到总长度减一
    &#125;else&#123;
        n=0;
    &#125;*/
    n=n.substr(0,n.length-1);
    if(isNull(n))&#123;
        n=0;
    &#125;
    return n;
&#125;
//小数点
function dec_number(n)&#123; //indexof 查找某一个字符是否存在[不存在返回-1
  if (n.indexOf(&quot;.&quot;)==-1)&#123; //小数点不存在
      n = n + &quot;.&quot;;
  &#125;
  return n;
&#125;
//验证文本框是否为空或者0
function isNull(n)&#123;
    if(n==&quot;0&quot; || n.length==0)&#123;
        return true;
    &#125;else&#123;
        return false;
    &#125;
&#125;
function isNumber(n)&#123;
//isNaN不能转换为数字:true；可以转换成数字是false
    if(isNaN(n)==false)&#123;
        return true;//参数n是数字
    &#125;else&#123;
        return false;//参数n不是数字
    &#125;
//或者return !isNaN(n); 
//如果n是数字 isNaN为false
&#125;
/*
    function num_1_click()&#123;
    var num = document.getElementById(&quot;num&quot;);
    var n = num.value;
    // if(n==&quot;0&quot;)&#123;n=&quot;1&quot;;&#125;
    //else&#123;n=n+&quot;1&quot;&#125;;//字符串拼接
    n=n+&quot;1&quot;;//↓↓ *1 影式转换成数值 然后前导零省略
    document.getElementById(&quot;num&quot;).value=n*1;
*/
</code></pre>
<h2 id="imooc-js-m键的跳转"><a href="#imooc-js-m键的跳转" class="headerlink" title="imooc.js [m键的跳转]"></a>imooc.js [m键的跳转]</h2><pre><code class="js">function init_mooc()&#123;
    document.getElementById(&quot;imooc&quot;).onclick=function()&#123;
        window.location.href=&quot;http://www.imooc.com&quot;;
    &#125;
&#125;
</code></pre>

    </div>

    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
    <div id="comment">
        <div id="gitalk-container">
        </div>
    </div>
    
</div>
                     
<footer id="footer">
    <div class="footer-wrap">
        <div>
            © 2018 - 2025 P-luminary
            <span class="footer-icon">
                <a-icon type="flag" theme="filled" /></span>
            @Asuna
        </div>
        <div></div>
        <div>Based on the <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo Engine</a>
<!--         & <a target="_blank" rel="noopener" href="https://github.com/korilin/hexo-theme-particle">Particle Theme</a></div> -->
        
    </div>

</footer>

<script src="/js/highlight.min.js"></script>
<script src="/js/particle.js"></script>
                </div>
            </div>
        </transition>
    </div>

    <script>
    new Vue({
        el: "#layout",
        data: {
            show_page: false,
            onload_menu: false,
            menu_show: false,
            card_top: 100
        },
        created: function () {
            var that = this
            window.onload = function () {
                that.show_page = true
                document.getElementById("loadcontent").style.opacity = 0
                setTimeout(function () {
                    document.getElementById("loadleft").style.width = 0
                    document.getElementById("loadright").style.width = 0
                }, 300)
                setTimeout(function () {
                    document.getElementById("loading").style = "display:none"
                }, 600)
            }
        },
        mounted: function () {
            var that = this
            window.addEventListener('scroll', function (e) {
                that.menu_show = false
            })
        },
        methods: {
            home_click: function () {
                window.scrollTo({
                    top: window.innerHeight - 80,
                    behavior: "smooth",
                });
            }
        }
    })
</script>

<script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>
<script>
    const gitalk = new Gitalk({
        clientID: '',
        clientSecret: '',
        repo: 'hexo-theme-particle',      // The repository of store comments,
        owner: 'P-luminary',
        admin: ['P-luminary'],
        language: 'en',
        id: location.pathname,      // Ensure uniqueness and length less than 50
        distractionFreeMode: true  // Facebook-like distraction free mode
    })
    gitalk.render('gitalk-container')
</script>

</body>

</html>