
<!DOCTYPE html>
<html lang="zh_CH ">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>P-luminary || Servlet_Jsp基础与进阶+JSTL\EL表达式</title>
    <meta name="author" content="Asuna">
    <meta name="description" content=" ">
    <meta name="keywords" content=" ">
    <link rel="icon" href="/https://raw.githubusercontent.com/P-luminary/images/master/data/asuna.jpg">
    <link rel="stylesheet" href="/css/antd.min.css">
    
    <link rel="stylesheet" href="/css/maiden-theme.css">
    
    <script src="/js/vue.js"></script>
    <script src="/js/antd.min.js"></script>
<meta name="generator" content="Hexo 6.1.0"></head>

<body>

    <div id="loading"
        style="height: 100vh; width: 100%; position: fixed;display: flex;z-index: 200; justify-content: space-between;">
        <div id="loadleft" style="width: 50%;background-color: #ffffff;transition: width 0.6s ease-out;"></div>
        <div id="loadright" style="width: 50%;background-color: #ffffff;transition: width 0.6s ease-out;"></div>
        <div
            style="position: fixed; height: 100vh; width: 100%;display: flex;justify-content: center;align-items: center;">
            <div id="loadcontent"
                style="width:400px;height:400px;padding:50px;border-radius:50%;display:flex;justify-content:center;align-items:center;border:solid 10px#a3ddfb; text-align:center;opacity:1;transition:opacity 0.3s ease-out;">
                <div>
                    <h2>LOADING...</h2>
                    <p>加载过慢请开启缓存(浏览器默认开启)</p>
                    <div>
                        <img src="/dancingkitty.gif" alt="loading">
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="layout">
        <transition name="into">
            <div v-show="show_page" style="display: none;">
                <div id="menu_show">
                     
<nav id="menu">
    <div class="desktop-menu">
        <a href="/">
            <span class="title">P-luminary</span>
        </a>
        
        <a href="/">
            <span>
                <a-icon type="home" theme="filled" />
            </span>
            <span>home</span>
        </a>
        
        <a href="/tags/语法">
            <span>
                <a-icon type="tags" theme="filled" />
            </span>
            <span>tags</span>
        </a>
        
    </div>

    <div :class="'phone-menu ' + menu_show" id="phone-menu">
        <div :class="'title'" @click="menu_show=!menu_show">
            <span style="margin-right: 10px;">
                <a-icon type="appstore" theme="filled" />
            </span>
            <span>P-luminary</span>
        </div>
        <div class="items" v-show="menu_show">
            
            <a href="/">
                <div class="item">
                    <div style="min-width:20px; max-width:50px; width: 10%">
                        <a-icon type="home" theme="filled" />
                    </div>
                    <div style="min-width:100px;max-width: 150%;width: 20%;">home</div>
                </div>
            </a>
            
            <a href="/tags/语法">
                <div class="item">
                    <div style="min-width:20px; max-width:50px; width: 10%">
                        <a-icon type="tags" theme="filled" />
                    </div>
                    <div style="min-width:100px;max-width: 150%;width: 20%;">tags</div>
                </div>
            </a>
            
        </div>
        <div class="curtain" v-show="menu_show"></div>
    </div>

</nav>
                </div>

                <div id="main">
                     
<link rel="stylesheet" href="/css/post-body.css">
<div class="article">
    <div>
        <h1>Servlet_Jsp基础与进阶+JSTL\EL表达式 </h1>
    </div>
    <div class="info">
        <span class="date">
            <span class="icon">
                <a-icon type="calendar" theme="filled" />
            </span>
            2022/9/5
        </span>

        

        

        <span class="tags">
            <span class="icon">
                <a-icon type="tags" theme="filled" />
            </span>
            
            <span class="tag">
                
                <a href="/tags/后端" style=color:#879cff>
                    后端
                </a>
            </span>
            
        </span>
        
    </div>

    <div class="content" v-pre>
        <p><strong>单机时代</strong></p>
<p><strong>联机时代</strong>(Client-Server模式) [微信+支付宝+QQ] [需安装APP]</p>
<ul>
<li><u>Client&#x2F;Server</u>结构(<strong>C&#x2F;S结构</strong>)是指<span style = "color:red"><strong>客户端</strong>和<strong>服务器</strong>结构</span></li>
</ul>
<p><strong>互联网时代</strong>(Browser-Server模式) [百度+<strong>淘宝</strong>+火车票系统]</p>
<ul>
<li><u>Browser-Server</u>模式(<strong>B&#x2F;S模式</strong>)即<span style = "color:red"><strong>浏览器</strong>和<strong>服务器</strong>架构模式</span></li>
</ul>
<h5 id="请求与响应-成对出现"><a href="#请求与响应-成对出现" class="headerlink" title="请求与响应 [成对出现]"></a>请求与响应 [成对出现]</h5><ul>
<li>从浏览器发出送给服务器的数据包成为”<strong>请求(Request)</strong>“</li>
<li>从服务器返回给浏览器的结果称为”<strong>响应(Response)</strong>“</li>
</ul>
<h5 id="J2EE"><a href="#J2EE" class="headerlink" title="J2EE"></a>J2EE</h5><ul>
<li>J2EE(Java 2 Platform Enterprise Edition)是指”Java 2企业版”</li>
<li>**开发BS(Web)**应用程序就是J2EE最核心的功能</li>
<li>J2EE由13个功能模块组成</li>
</ul>
<p><img src="https://raw.githubusercontent.com/P-luminary/images/2e29c4d5e7978bb73d83f0dac551563fd679e896/data/J2EE%E4%B8%AD13%E4%B8%AA%E5%8A%9F%E8%83%BD%E6%A8%A1%E5%9D%97.jpg"></p>
<h5 id="Apache-Tomcat"><a href="#Apache-Tomcat" class="headerlink" title="Apache Tomcat"></a>Apache Tomcat</h5><ul>
<li>Tomcat是Apache旗下免费的开放源代码的Web应用服务器程序</li>
</ul>
<h5 id="J2EE与Tomcat的关系"><a href="#J2EE与Tomcat的关系" class="headerlink" title="J2EE与Tomcat的关系"></a>J2EE与Tomcat的关系</h5><ul>
<li>J2EE是一组技术规范与指南</li>
<li>Tomcat是J2EE Web (Servlet与JSP) 标准的实现者</li>
<li>J2SE是J2EE运行的基石，运行Tomcat离不开J2SE</li>
</ul>
<h5 id="Servlet"><a href="#Servlet" class="headerlink" title="Servlet"></a>Servlet</h5><p>Servlet (Server Applet) 服务器小程序，主要功能用于生成动态Web内容</p>
<p>Servlet是J2EE最重要的组成部分</p>
<p><em>Web与 Servlet的关系：</em></p>
<p><img src="https://raw.githubusercontent.com/P-luminary/images/e2ca21b19cb2dda3592e949cd18bdd67a357764a/data/Web%E4%B8%8EServlet%E7%9A%84%E5%85%B3%E7%B3%BB.jpg"></p>
<blockquote>
<h4 id="获取请求参数-来自HTML的数据输入"><a href="#获取请求参数-来自HTML的数据输入" class="headerlink" title="获取请求参数(来自HTML的数据输入)"></a>获取请求参数(来自HTML的数据输入)</h4><p>(1) <strong>request.getParameter()</strong> 取得是通过容器的实现来取得通过类似post，get等方式传入的数据<br><strong>request.setAttribute()</strong>[往域中保存数据] 和 <strong>getAttribute()</strong>[从域中获取数据]只是在web容器内部流转，仅仅是请求处理阶段。<br>(2) request.getParameter () 方法传递的数据，会从Web客户端传到Web服务器端，代表HTTP请求数据。<br>原文链接：<a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_54000767/article/details/128003181ContentType">https://blog.csdn.net/qq_54000767/article/details/128003181ContentType</a><br>(3) String <strong>getParameter(String name)</strong> 根据请求参数名获取请求参数值<br>(4) String[] <strong>getParameterValues(String name)</strong> 根据请求参数名获取请求参数多个值<br>(5) Enumeration <strong>getParameterNames()</strong> 获取所有的请求参数名<br>(6) Map&lt;String, String[]&gt; <strong>getParameterMap()</strong> 获取所有请求擦桉树 把请求参数保存到map集合<br>(7) req.getServletContext() 实质上可以看做一个对象，其可以使用ServletContext接口中的方法</p>
<blockquote>
<p>1.在javax.servlet.Filter中直接获取   ServletContext context &#x3D; config.<strong>getServletContext</strong>();<br>2.在HttpServlet中直接获取   this.<strong>getServletContext</strong>()<br>3.在其他方法中，通过HttpRequest获得   request.getSession().<strong>getServletContext</strong>();</p>
</blockquote>
<p>(8) <strong>getRequestDispatcher()</strong>  getRequestDispatcher()包含两个重要方法<br>分别是请求转发和请求包含。一个请求跨多个Servlet时，需要使用请求转发和请求包含。<br>首先需要获得一个RequestDispatcher 对象：RequestDispatcher rd &#x3D; request.getRequestDispatcher(“&#x2F;MyServlet”);</p>
<ul>
<li><strong>request.getRequestDispatcher().forward()</strong> - <strong><u>请求转发</u></strong>[请求自发器]<br><u><span style =  "color : red"><strong>请求转发</strong></span></u>是服务器跳转，指挥产生一次请求</li>
<li><strong>response.sendRedirect()</strong> - <u><strong>响应重定向</strong></u><br><span style =  "color : red"><u><strong>响应重定向</strong></u></span>是浏览器端跳转，会产生两次请求</li>
<li><strong>request.setAttribute</strong>(属性名，属性值) - <u><strong>设置请求属性</strong></u><br><strong>Object attr &#x3D; request.getAttribute</strong>(属性名) - <u><strong>获取请求属性</strong></u><br>请求允许<span style =  "color : red"><u><strong>创建自定义属性</strong></u></span></li>
</ul>
<p> 决定浏览器采用何种方式<u>对响应体进行处理</u><br>response.<strong>setContentType</strong>(“text&#x2F;html; charset&#x3D;utf-8”);</p>
</blockquote>
<pre><code class="java">========FirstServlet.java========
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import java.io.IOException;
import java.io.PrintWriter;

public class FirstServlet extends HttpServlet &#123;
    @Override
    protected void service(HttpServletRequest request, HttpServletResponse response) throws IOException &#123;
        String name = request.getParameter(&quot;name&quot;); //接收请求发来的参数
        String html = &quot;&lt;h1 style = &#39;color : red&#39;&gt;hi,&quot; + name + &quot;!&lt;/h1&gt;&lt;hr/&gt;&quot;;
        System.out.println(&quot;返回給浏览器的响应数据为：&quot; + html);
        PrintWriter out = response.getWriter();
        out.println(html);//将html发送回浏览器
    &#125;
&#125;
======================web.xml===============================
&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;web-app xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;
         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
         xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;
         version=&quot;4.0&quot;&gt;
    &lt;display-name&gt;FirstServlet&lt;/display-name&gt;
    &lt;servlet&gt; //servlet的别名
        &lt;servlet-name&gt;first&lt;/servlet-name&gt;
        &lt;servlet-class&gt;FirstServlet&lt;/servlet-class&gt;
    &lt;/servlet&gt;
    &lt;servlet-mapping&gt; //映射 web应用程序都是网址来运用 把servlet和网址(url)绑定在一起
        &lt;servlet-name&gt;first&lt;/servlet-name&gt;//输入地址.../hi 再通过别名来访问FirstServlet
        &lt;url-pattern&gt;/hi&lt;/url-pattern&gt;//若是直接写会暴露系统类名完整信息的隐私
        &lt;!--http://localhost:8080/Test_Tomcat_war_exploded/hi?name=jackson--&gt;
    &lt;/servlet-mapping&gt;
&lt;/web-app&gt;
</code></pre>
<h5 id="HttpServlet-是所有小程序的父类，需要继承-Eclipse-快速导包-Ctrl-Shift-O"><a href="#HttpServlet-是所有小程序的父类，需要继承-Eclipse-快速导包-Ctrl-Shift-O" class="headerlink" title="HttpServlet 是所有小程序的父类，需要继承 (Eclipse 快速导包 Ctrl + Shift + O)"></a>HttpServlet 是所有小程序的父类，需要继承 (Eclipse 快速导包 Ctrl + Shift + O)</h5><p><strong>启动项目：Servers右键Tomcat - Add and Remove</strong></p>
<p><img src="https://raw.githubusercontent.com/P-luminary/images/1785dc7d2ec6352da8cf6f3b350ac657e2eeac7d/data/%E5%9B%BE%E8%A7%A32.jpg"></p>
<p><img src="https://raw.githubusercontent.com/P-luminary/images/06e2d7bc7386924de60055b8177b8dfdf3c16490/data/%E6%A0%87%E5%87%86JavaWeb%E5%B7%A5%E7%A8%8B%E7%BB%93%E6%9E%84.jpg"></p>
<h4 id="Servlet开发步骤"><a href="#Servlet开发步骤" class="headerlink" title="Servlet开发步骤"></a>Servlet开发步骤</h4><ul>
<li>创建Servlet类，继承HTTPServlet</li>
<li>重写service方法，编写程序代码</li>
<li>配置web.xml，绑定URL</li>
</ul>
<h4 id="Servlet访问方法"><a href="#Servlet访问方法" class="headerlink" title="Servlet访问方法"></a>Servlet访问方法</h4><ul>
<li>http:&#x2F;&#x2F; IP地址：端口 &#x2F; context-path &#x2F; url-mapping</li>
<li>远程访问使用IP地址，本地访问localhost(127.0.0.1)</li>
<li>context-path成为”上下文路径”，默认为工程名</li>
</ul>
<pre><code class="java">☆ web.xml ☆
  &lt;servlet&gt;
      &lt;servlet-name&gt;sample&lt;/servlet-name&gt;
      &lt;servlet-class&gt;com.imooc.servlet.SampleServlet&lt;/servlet-class&gt;
  &lt;/servlet&gt;
  
  &lt;servlet-mapping&gt;
      &lt;servlet-name&gt;sample&lt;/servlet-name&gt;
      &lt;url-pattern&gt;/sample&lt;/url-pattern&gt;
  &lt;/servlet-mapping&gt;
============================================
 ☆ SampleServlet.java ☆
package com.imooc.servlet;

import java.io.IOException;
import java.io.PrintWriter;

import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

public class SampleServlet extends HttpServlet &#123;
    public void service(HttpServletRequest request, HttpServletResponse response) throws IOException &#123;
        PrintWriter out = response.getWriter(); //向浏览器输出的数据流
        out.println(&quot;&lt;a href=&#39;http://www.baidu.com&#39;&gt;Baidu&lt;/a&gt;&quot;);
    &#125;
&#125;
</code></pre>
<h4 id="请求参数"><a href="#请求参数" class="headerlink" title="请求参数"></a>请求参数</h4><ul>
<li>请求参数是指浏览器通过请求向Tomcat提交的数据</li>
<li>请求参数通常是用户输入的数据，待Servlet进行处理</li>
<li>参数名1 &#x3D; 值1 <strong>&amp;</strong> 参数名2 &#x3D; 值2 <strong>&amp;</strong> 参数名n &#x3D; …</li>
</ul>
<p><img src="https://raw.githubusercontent.com/P-luminary/images/e7c01e197e85c912d86e6065d3ccb870bf6535d0/data/%E7%94%A8Servlet%E6%8A%80%E6%9C%AF%E5%8A%A0%E4%B8%8ATomcat%E4%BC%A0%E8%BE%93HTML%E6%95%B0%E6%8D%AE.jpg"></p>
<h4 id="Servlet接收请求参数"><a href="#Servlet接收请求参数" class="headerlink" title="Servlet接收请求参数"></a>Servlet接收请求参数</h4><ul>
<li><strong>request.getParameter()</strong> –  接收单个参数</li>
<li><strong>request.getParameterValues()</strong> –  接收多个同名参数</li>
</ul>
<pre><code class="java">☆ ☆ ☆ ☆ ☆ ☆ ☆ ☆ ☆ SampleServlet.java ☆ ☆ ☆ ☆ ☆ ☆ ☆ ☆ ☆ ☆ ☆
package com.imooc.servlet;

import java.io.IOException;
import java.io.PrintWriter;

import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

public class SampleServlet extends HttpServlet &#123;
//service是请求处理的核心方法,无论是get或者post都会被service()方法处理
    public void service(HttpServletRequest request, HttpServletResponse response) throws IOException &#123;
        String name = request.getParameter(&quot;name&quot;);
        String mobile = request.getParameter(&quot;mobile&quot;);
        String sex = request.getParameter(&quot;sex&quot;);
        String[] specs = request.getParameterValues(&quot;spec&quot;);
        PrintWriter out = response.getWriter(); //向浏览器输出的数据流
        out.println(&quot;&lt;h1&gt;name:&quot; + name + &quot;&lt;/h1&gt;&quot;);
        out.println(&quot;&lt;h1&gt;mobile:&quot; + mobile + &quot;&lt;/h1&gt;&quot;);
        out.println(&quot;&lt;h1&gt;sex:&quot; + sex + &quot;&lt;/h1&gt;&quot;);
        for(int i = 0; i &lt; specs.length; i++) &#123;
            out.println(&quot;&lt;h2&gt;spec:&quot; + specs[i] + &quot;&lt;/h2&gt;&quot;);
        &#125;
        out.println(&quot;&lt;a href=&#39;http://www.baidu.com&#39;&gt;Baidu&lt;/a&gt;&quot;);
    &#125;
&#125;
 ☆ ☆ ☆ ☆ ☆ ☆ ☆ ☆ ☆ ☆ studnet.html ☆ ☆ ☆ ☆ ☆ ☆ ☆ ☆ ☆ ☆ ☆
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta charset=&quot;UTF-8&quot;&gt;
&lt;title&gt;学员信息登记表&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h1&gt;学员信息登记表&lt;/h1&gt;
    &lt;form action=&quot;http://localhost:8080/Test_Tomcat_war_exploded/sample&quot; method=&quot;get&quot; &gt;
        姓名：&lt;input name=&quot;name&quot;/&gt;
        &lt;br/&gt;
        电话：&lt;input name=&quot;mobile&quot;/&gt;
        &lt;br/&gt;
        性别：
        &lt;select name=&quot;sex&quot; style=&quot;width:100px;padding:5px;&quot;&gt;
            &lt;option value=&quot;male&quot; &gt;男&lt;/option&gt;
            &lt;option value=&quot;female&quot;&gt;女&lt;/option&gt;
        &lt;/select&gt;
        &lt;br/&gt;
        特长:
        &lt;input type=&quot;checkbox&quot; name=&quot;spec&quot; value=&quot;English&quot;/&gt;英语
        &lt;input type=&quot;checkbox&quot; name=&quot;spec&quot; value=&quot;Program&quot;/&gt;编程
        &lt;input type=&quot;checkbox&quot; name=&quot;spec&quot; value=&quot;Speech&quot;/&gt;演讲
        &lt;input type=&quot;checkbox&quot; name=&quot;spec&quot; value=&quot;Swimming&quot;/&gt;游泳
        &lt;br/&gt;
        &lt;input type=&quot;submit&quot; value=&quot;提交&quot;&gt;
        &lt;br/&gt;
    &lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<h4 id="Get与Post请求方法"><a href="#Get与Post请求方法" class="headerlink" title="Get与Post请求方法"></a>Get与Post请求方法</h4><ul>
<li><strong>Get方式</strong>(<u>可读性好</u>) 是将数据通过在URL附加数据显性向服务器发送数据[明文] <span style = "color:orange"><strong>Get请求 - doGet()方法</strong></span></li>
</ul>
<p>http:&#x2F;&#x2F; localhost:8080&#x2F;Test_Tomcat_war_exploded&#x2F;sample<span style = "color:red"><strong>?name &#x3D; zhangsan</strong></span></p>
<ul>
<li><strong>Post方式</strong>(<u><span style = "color:red"><strong>更加隐蔽</strong></span></u>) 会将数据存放在“请求体”中隐性向服务器发送数据[隐性请求体] <span style = "color:orange"><strong>Post请求 - doPost()方法</strong></span></li>
</ul>
<p>http:&#x2F;&#x2F; localhost:8080&#x2F;Test_Tomcat_war_exploded&#x2F;sample</p>
<p>请求体：<span style = "color:red">name&#x3D;zhangsan</span></p>
<p><span style = "color:orange"><strong>所有请求 - service()方法</strong></span></p>
<pre><code class="java">☆ ☆ ☆ ☆ ☆ ☆ Get与Post请求方法 ☆ ☆ ☆ ☆ ☆ ☆

#### Get与Post处理方式

- 所有请求-service()方法
- Get请求-doGet()方法
- Post请求-doPost()方法

#### Get与Post应用场景

- Get常用于不包含敏感信息的查询功能
- Post用于安全性要求较高的功能或者服务器的“写”操作
  - 用户登录
  - 用户注册
  - 更新公司账目
    
</code></pre>
<h5 id="HTML默认以get方式提交，可以改变方式"><a href="#HTML默认以get方式提交，可以改变方式" class="headerlink" title="HTML默认以get方式提交，可以改变方式"></a>HTML默认以get方式提交，可以改变方式</h5><pre><code class="java">&lt;form action=&quot;http://localhost:8080/Test_Tomcat_war_exploded/sample&quot; 
    method=&quot;post&quot; 
</code></pre>
<pre><code class="java">import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import java.io.IOException;

public class RequestMethodServlet extends HttpServlet &#123;
    public void doGet(HttpServletRequest request, HttpServletResponse response) throws IOException &#123;
        String name = request.getParameter(&quot;name&quot;);
        response.getWriter().println(&quot;&lt;h1 style = &#39;color:green&#39;&gt;&quot;+name+&quot;&lt;/h1&gt;&quot;);
    &#125;
    public void doPost(HttpServletRequest request, HttpServletResponse response) throws IOException &#123;
        String name = request.getParameter(&quot;name&quot;);
        response.getWriter().println(&quot;&lt;h1 style = &#39;color:red&#39;&gt;&quot;+name+&quot;&lt;/h1&gt;&quot;);
    &#125;
&#125;
</code></pre>
<p><img src="https://raw.githubusercontent.com/P-luminary/images/ab7b2018d9853e37350602f7a90897030d1bdfb0/data/get%E4%B8%8Epost%EF%BC%8B%E6%98%A0%E5%B0%84.jpg"></p>
<h4 id="Servlet生命周期"><a href="#Servlet生命周期" class="headerlink" title="Servlet生命周期"></a><span style = "color : red">Servlet生命周期</span></h4><ul>
<li><p>装载 - web.xml</p>
</li>
<li><p><strong>创建 - 构造函数</strong></p>
<blockquote>
<p>public FirstServlet(){<br>System.<em>out</em>.println(“正在创建FirstServlet对象”);<br>}</p>
</blockquote>
</li>
<li><p>**初始化 - init() **[启动时加载 类似于LOL入场进度条]</p>
<blockquote>
<p>@Override<br>public void init(ServletConfig config) throws ServletException {<br>System.<em>out</em>.println(“正在初始化FirstServlet对象”);<br>}</p>
</blockquote>
</li>
<li><p><strong>提供服务 - service()</strong></p>
<blockquote>
<p>@Override<br>protected void service(HttpServletRequest request, HttpServletResponse response) throws IOException {<br>String name &#x3D; request.getParameter(“name”); &#x2F;&#x2F;接收请求发来的参数<br>String html &#x3D; “<h1 style = 'color : red'>hi,” + name + “!</h1><hr/>“;<br>System.<em>out</em>.println(“返回給浏览器的响应数据为：” + html);<br>PrintWriter out &#x3D; response.getWriter();<br>out.println(html);&#x2F;&#x2F;将html发送回浏览器<br>}</p>
</blockquote>
</li>
<li><p><strong>销毁 - destroy()</strong> [重启的时候会施行销毁]</p>
<blockquote>
<p>@Override<br>public void destroy() {<br>System.<em>out</em>.println(“正在销毁FirstServlet对象”);<br>}</p>
</blockquote>
</li>
</ul>
<h4 id="使用注解简化配置"><a href="#使用注解简化配置" class="headerlink" title="使用注解简化配置"></a>使用注解简化配置</h4><ul>
<li>Servlet 3.x 之后引入了“<strong>注解</strong>Annotation”特性</li>
<li>注解用于<strong>简化web应用程序</strong>的配置过程</li>
<li><span style = "color:red"><u>Servlet核心注解</u>：**@WebServlet** [简化配置 以防.xml的依赖越来越多]</span><br>@WebServlet(“&#x2F;anno”) 把servlet类绑定到&#x2F;anno</li>
</ul>
<p>设置loadOnStartup后必须要强制设置地址</p>
<p>@WebServlet(urlPatterns&#x3D;”&#x2F;unused”, loadOnStartup&#x3D;2)</p>
<pre><code class="java">@WebServlet(&quot;/anno&quot;)
public class AnnotationServlet extends HttpServlet&#123;&#125;
AnnotationServlet是Servlet类把它绑定到标志(&quot;/anno&quot;)上

//http://localhost:8080/Test_Tomcat_war_exploded/anno
</code></pre>
<h4 id="启动时加载Servlet-模仿开发项目场景"><a href="#启动时加载Servlet-模仿开发项目场景" class="headerlink" title="启动时加载Servlet [模仿开发项目场景]"></a>启动时加载Servlet [模仿开发项目场景]</h4><ul>
<li>web.xml使用&lt; load-on-startup &gt;设置启动加载</li>
<li>&lt; load-on-startup &gt; <span style = "color : red">0~9999</span> &lt; &#x2F;load-on-startup &gt;<br>为加载顺序 0的优先级最高</li>
<li>启动时加载在工作中常用于系统的预处理</li>
</ul>
<h3 id="CreateServlet-java"><a href="#CreateServlet-java" class="headerlink" title="CreateServlet.java"></a>CreateServlet.java</h3><pre><code class="java">package com.imooc.servlet;

import javax.servlet.ServletException;
import javax.servlet.http.HttpServlet;

public class CreatServlet extends HttpServlet &#123;

    @Override
    public void init() throws ServletException &#123;
        System.out.println(&quot;正在创建数据库&quot;);
    &#125;
&#125;
</code></pre>
<h3 id="ImportServlet-java"><a href="#ImportServlet-java" class="headerlink" title="ImportServlet.java"></a>ImportServlet.java</h3><pre><code class="java">package com.imooc.servlet;

import javax.servlet.ServletException;
import javax.servlet.http.HttpServlet;

public class ImportServlet extends HttpServlet &#123;

    @Override
    public void init() throws ServletException &#123;
        System.out.println(&quot;正在导入数据&quot;);
    &#125;
&#125;
</code></pre>
<h3 id="AnalysisServlet-java"><a href="#AnalysisServlet-java" class="headerlink" title="AnalysisServlet.java"></a>AnalysisServlet.java</h3><pre><code class="java">package com.imooc.servlet;

import javax.servlet.ServletException;
import javax.servlet.http.HttpServlet;

public class AnalysisServlet extends HttpServlet &#123;

    @Override
    public void init() throws ServletException &#123;
        System.out.println(&quot;正在分析结果&quot;);
    &#125;
&#125;
</code></pre>
<h3 id="web-xml"><a href="#web-xml" class="headerlink" title="web.xml"></a>web.xml</h3><p>&lt; url-pattern &gt; &#x2F;hi &lt; &#x2F;url-pattern &gt;提供服务时才会写<br>因为这三个servlet只是启动的时候运行 不提供服务不用写url</p>
<pre><code class="xml">&lt;servlet&gt;
    &lt;servlet-name&gt;create&lt;/servlet-name&gt;
    &lt;servlet-class&gt;com.imooc.servlet.CreatServlet&lt;/servlet-class&gt;
    &lt;load-on-startup&gt;0&lt;/load-on-startup&gt; //在启动时最先被加载
&lt;/servlet&gt;
&lt;servlet&gt;
    &lt;servlet-name&gt;import&lt;/servlet-name&gt;
    &lt;servlet-class&gt;com.imooc.servlet.ImportServlet&lt;/servlet-class&gt;
    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt; 
&lt;/servlet&gt;
&lt;servlet&gt;
    &lt;servlet-name&gt;analysis&lt;/servlet-name&gt;
    &lt;servlet-class&gt;com.imooc.servlet.AnalysisServlet&lt;/servlet-class&gt;
    &lt;load-on-startup&gt;2&lt;/load-on-startup&gt; 
&lt;/servlet&gt;
</code></pre>
<h6 id="若是不写入xml则需要注解-WebServlet"><a href="#若是不写入xml则需要注解-WebServlet" class="headerlink" title="若是不写入xml则需要注解@WebServlet"></a>若是不写入xml则需要注解@WebServlet</h6><pre><code class="xml">import javax.servlet.ServletConfig;
import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
@WebServlet(urlPatterns = &quot;/unused&quot;, loadOnStartup = 1)
public class ImportServlet1 extends HttpServlet &#123;
    @Override
    public void init(ServletConfig config) throws ServletException &#123;
        System.out.println(&quot;正在导入数据1&quot;);
    &#125;
&#125;
</code></pre>
<p>其中必须<span style = "color:red">@WebServlet(<strong>urlPatterns</strong> &#x3D; “&#x2F;unused”, loadOnStartup &#x3D; 1</span>)<br>必须要地址<strong>url</strong></p>
<img src="https://raw.githubusercontent.com/P-luminary/images/3c512d2eeb3be1c1f2cc4041362cb27865bf7519/data/htm%E4%B8%8Ejava%E4%BA%92%E9%80%9A(%E5%A4%8D%E6%9D%82vs%E7%AE%80%E6%98%93).jpg" style="zoom:50%;" />

<hr>
<hr>
<h2 id="JSP-Java-Server-Pages-入门"><a href="#JSP-Java-Server-Pages-入门" class="headerlink" title="JSP(Java Server Pages)入门"></a>JSP(Java Server Pages)入门</h2><p>JSP是J2EE的功能模块，由Web服务器执行</p>
<p>JSP的作用就是降低动态网页开发难度</p>
<p>JSP的出现：Servlet有缺点</p>
<ul>
<li>静态HTML与动态Java代码混合在一起，难以维护</li>
<li>Servlet利用out.println()语句输出，开发效率低下</li>
<li>Eclipse很难在开发中发现错误，调试困难</li>
</ul>
<p><strong>JSP特点</strong>：<br>①.使用简单, 短时间学习便可上手使用<br>②.可将Java代码与HTML分离, 降低开发难度<br>③.JSP的本质就是Servlet</p>
<p><span style = "color : red"><strong>JSP中的写java代码块 &lt;% … %&gt;</strong></span></p>
<pre><code class="jsp">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
  &lt;meta charset=&quot;UTF-8&quot;&gt;
  &lt;title&gt;Insert title here&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;table&gt;
  &lt;tr&gt;
    &lt;th&gt;year&lt;/th&gt;
    &lt;th&gt;salary&lt;/th&gt;
  &lt;/tr&gt;
  &lt;%
    for (int i = 0; i &lt;= 50; i++)&#123;
      out.println(&quot;&lt;tr&gt;&quot;);
      out.println(&quot;&lt;td&gt;&quot; + i + &quot;&lt;/td&gt;&quot;);
      int sal = 0;
      if (i &lt;= 5)&#123;
        sal = 1500 + i * 150;
      &#125; else if (i &gt; 5 &amp;&amp; i &lt;= 10) &#123;
        sal = 1500 + 150 * 5 + 300 * (i-5);
      &#125; else if (i &gt; 10) &#123;
        sal = 1500 + 150 * 5 + 300 * 5 + 375 * (i-10);
      &#125;
      out.println(&quot;&lt;td&gt;&quot; + sal + &quot;&lt;/td&gt;&quot;);
      out.println(&quot;&lt;/tr&gt;&quot;);
    &#125;
  %&gt;
&lt;/table&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<h4 id="JSP的执行过程"><a href="#JSP的执行过程" class="headerlink" title="JSP的执行过程"></a>JSP的执行过程</h4><p>网页通过<u>JSP(Tomcat)</u>  进行<strong>转译</strong>成为<u>Servlet源代码</u>  然后<strong>编译</strong>成<u>Servlet字节码</u>  最后返回到网页呈现<br><img src="https://raw.githubusercontent.com/P-luminary/images/3a14c578bdd4dfeb43f29cc94afbdb98c4cd131b/data/JSP%E8%BD%AC%E8%AF%91%E8%BF%87%E7%A8%8B.png"></p>
<h4 id="JSP的基本语法"><a href="#JSP的基本语法" class="headerlink" title="JSP的基本语法"></a>JSP的基本语法</h4><h6 id="JSP代码块"><a href="#JSP代码块" class="headerlink" title="JSP代码块"></a>JSP代码块</h6><p>JSP代码块用于JSP中嵌入Java代码<br>JSP代码块语法：<span style = "color : red"><strong>&lt;% java代码 %&gt;</strong></span></p>
<h6 id="JSP声明构造块"><a href="#JSP声明构造块" class="headerlink" title="JSP声明构造块"></a>JSP声明构造块</h6><p>JSP声明构造块用于声明变量或方法<br>JSP声明构造块语法：<span style = "color : red"><strong>&lt;%! 声明语句 %&gt;</strong></span></p>
<h6 id="JSP输出指令"><a href="#JSP输出指令" class="headerlink" title="JSP输出指令"></a>JSP输出指令</h6><p>JSP输出指令用于在JSP页面中显示java代码执行结果<br>JSP输出指令语法：<span style = "color : red"><strong>&lt;%&#x3D; java代码 %&gt;</strong></span><br>例如：&lt;%&#x3D; “&lt; b &gt;” + name + “&lt; &#x2F;b &gt;” %&gt;</p>
<h6 id="JSP处理指令"><a href="#JSP处理指令" class="headerlink" title="JSP处理指令"></a>JSP处理指令</h6><p>JSP处理指令用于提供JSP执行过程中的辅助信息<br>JSP处理指令语法：<span style = "color : red"><strong>&lt;%@ jsp指令 %&gt;</strong></span><br>例如：&lt;%@ page import &#x3D; “java.util.*” %&gt;</p>
<h4 id="JSP常用处理指令"><a href="#JSP常用处理指令" class="headerlink" title="JSP常用处理指令"></a>JSP常用处理指令</h4><p><span style = "color : red"><strong>&lt;%@ page %&gt;</strong></span> 定义当前JSP页面全局设置<br><span style = "color : red"><strong>&lt;%@ include file &#x3D; “url…”%&gt;</strong></span> 将其他JSP页面与当前JSP页面合并<br><span style = "color : red"><strong>&lt;%@ taglib %&gt;</strong></span> 引入JSP标签库</p>
<h4 id="JSP中注释的区别"><a href="#JSP中注释的区别" class="headerlink" title="JSP中注释的区别"></a>JSP中注释的区别</h4><p><span style = "color : red"><strong>&lt;%– 注释 –%&gt;</strong></span> JSP注释，被注释语句不做任何处理<br><span style = "color : red"><strong>&#x2F;&#x2F;、&#x2F;<em>..</em>&#x2F;</strong></span> 用于注释&lt;% %&gt;java代码，被注释代码不执行<br><span style = "color : red"><strong>&lt; !– html – &gt;</strong></span> HTML注释，被注释的语句不会被浏览器解释</p>
<h3 id="综合训练：质数算法"><a href="#综合训练：质数算法" class="headerlink" title="综合训练：质数算法"></a>综合训练：质数算法</h3><h6 id="列出1000内的质数-除1以外，只能被1和自身整除的自然数"><a href="#列出1000内的质数-除1以外，只能被1和自身整除的自然数" class="headerlink" title="列出1000内的质数(除1以外，只能被1和自身整除的自然数)"></a>列出1000内的质数(除1以外，只能被1和自身整除的自然数)</h6><p>要求1：使用List保存所有有效的质数<br>要求2：将结果打印到页面，格式为”&lt; h1 &gt; X是质数 &lt; &#x2F;h1 &gt;”</p>
<pre><code class="jsp">&lt;%@ page import=&quot;java.util.List&quot; %&gt;
&lt;%@ page import=&quot;java.util.ArrayList&quot; %&gt;
&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;
&lt;%!
    boolean isPrime(int num)&#123;
        boolean flag = true;
        for (int j = 2; j &lt; num; j++) &#123;
            if (num % j ==0)&#123;
                flag = false;
                break;
            &#125;
        &#125;
        return flag;
    &#125;
%&gt;
&lt;%
    List&lt;Integer&gt; primes = new ArrayList();
    for (int i = 2; i &lt;= 1000; i++)&#123;
        boolean flag = isPrime(i);
        if (flag == true)&#123;
//        out.println(&quot;&lt;h1&gt;&quot; + i + &quot;&lt;/h1&gt;&quot;);
            primes.add(i);
        &#125;
    &#125;
%&gt;
&lt;%
    for (int p : primes)&#123;
//        out.println(&quot;&lt;h1&gt;&quot; + p + &quot;是质数&lt;/h1&gt;&quot;);
%&gt;
    &lt;h1 style=&quot;color: green&quot;&gt;&lt;%=p %&gt;是质数&lt;/h1&gt;
&lt;%
    &#125;
%&gt;
</code></pre>
<h3 id="JSP页面重用"><a href="#JSP页面重用" class="headerlink" title="JSP页面重用"></a>JSP页面重用</h3><p><span style = "color : red"><strong>&lt;%@ include file &#x3D; “url…”%&gt;</strong></span> 将其他JSP页面与当前JSP页面合并</p>
<pre><code class="jsp">☆ ☆ ☆ ☆ ☆ ☆ ☆ ☆ ☆ ☆ ☆ news.jsp ☆ ☆ ☆ ☆ ☆ ☆ ☆ ☆ ☆ ☆ ☆
&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;
&lt;%@include file=&quot;include/header.jsp&quot;%&gt;
&lt;%
  out.println(&quot;&lt;h1&gt;新闻标题&lt;/h1&gt;&quot;);
  out.println(&quot;&lt;p&gt;新闻正文&lt;/p&gt;&quot;);
%&gt;
&lt;%@include file=&quot;include/footer.jsp&quot;%&gt;

☆ ☆ ☆ ☆ ☆ ☆ ☆ ☆ ☆ ☆ ☆ header.jsp ☆ ☆ ☆ ☆ ☆ ☆ ☆ ☆ ☆ ☆ ☆
&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;
体育|推荐|财经|娱乐

☆ ☆ ☆ ☆ ☆ ☆ ☆ ☆ ☆ ☆ ☆ footer.jsp ☆ ☆ ☆ ☆ ☆ ☆ ☆ ☆ ☆ ☆ ☆
&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;
&lt;hr/&gt;
Copyright 1999-2023
</code></pre>
<h1 id="JSP-amp-Servlet进阶"><a href="#JSP-amp-Servlet进阶" class="headerlink" title="JSP&amp;Servlet进阶"></a><span style = "color : red">JSP&amp;Servlet进阶</span></h1><h4 id="HTTP请求的结构"><a href="#HTTP请求的结构" class="headerlink" title="HTTP请求的结构"></a>HTTP请求的结构</h4><ul>
<li>HTTP请求包含三部分：请求行、请求头、请求体</li>
</ul>
<p><img src="https://raw.githubusercontent.com/P-luminary/images/3e7ee53fc7f209b975a225a6dc267ec56b89c3ef/data/HTTP%E8%AF%B7%E6%B1%82%E7%BB%93%E6%9E%84.jpg"></p>
<h5 id="eclipse导入jar包-工程名-Properties-Java-Build-Path-Libraries-Add-EXternal-JARs"><a href="#eclipse导入jar包-工程名-Properties-Java-Build-Path-Libraries-Add-EXternal-JARs" class="headerlink" title="eclipse导入jar包 (工程名 - Properties - Java Build Path - Libraries - Add EXternal JARs)"></a>eclipse导入jar包 (工程名 - Properties - Java Build Path - Libraries - Add EXternal JARs)</h5><h5 id="查看F12网络-All-可查看内部详细信息常规"><a href="#查看F12网络-All-可查看内部详细信息常规" class="headerlink" title="查看F12网络 - All 可查看内部详细信息常规"></a>查看F12网络 - All 可查看内部详细信息常规</h5><h5 id="input-html"><a href="#input-html" class="headerlink" title="input.html"></a>input.html</h5><p><strong>get</strong>请求把数据放在url中    <strong>post</strong>请求把数据放在请求体中</p>
<pre><code class="html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta charset=&quot;UTF-8&quot;&gt;
&lt;title&gt;Insert title here&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;                  &lt;!-- 工程名 + 映射地址 --&gt;
    &lt;form action=&quot;/request-struc/request&quot; method=&quot;post&quot;&gt;
        &lt;input name=&quot;username&quot;/&gt;
        &lt;input name=&quot;password&quot; type=&quot;password&quot;/&gt;
        &lt;input type=&quot;submit&quot;/&gt;
    &lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<h4 id="巧用请求头开发多端应用"><a href="#巧用请求头开发多端应用" class="headerlink" title="巧用请求头开发多端应用"></a>巧用请求头开发多端应用</h4><p>根据请求头去对应不同的设备<br>同样的网址在<u>手机</u>和<u>电脑</u>上所呈现的内容是不一样的</p>
<pre><code class="java">import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import java.io.IOException;

@WebServlet(&quot;/ua&quot;)
public class UserAgentServlet extends HttpServlet &#123;
    public UserAgentServlet() &#123;
    &#125;

    @Override
    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException &#123;
        String userAgent = req.getHeader(&quot;User-Agent&quot;);
        resp.setContentType(&quot;text/html; charset=utf-8&quot;);
        resp.getWriter().println(userAgent);
        String output = &quot;&quot;;
        if (userAgent.indexOf(&quot;Windows NT&quot;)!=-1)&#123;
            output = &quot;&lt;h1&gt;这是PC端首页&lt;/h1&gt;&quot;;
        &#125; else if (userAgent.indexOf(&quot;iPhone&quot;)!=-1 || userAgent.indexOf(&quot;Android&quot;)!=-1) &#123;
            output = &quot;&lt;h1&gt;这是移动端首页&lt;/h1&gt;&quot;;
        &#125;
        resp.getWriter().println(output);
    &#125;
&#125;
</code></pre>
<h4 id="响应的结构-服务器返回給浏览器的显示结果"><a href="#响应的结构-服务器返回給浏览器的显示结果" class="headerlink" title="响应的结构 (服务器返回給浏览器的显示结果)"></a>响应的结构 (服务器返回給浏览器的显示结果)</h4><p>HTTP请求包含三部分：<strong>响应行、响应头、响应体</strong></p>
<table>
<thead>
<tr>
<th>状态码</th>
<th>错误描述</th>
</tr>
</thead>
<tbody><tr>
<td>200</td>
<td>服务器处理成功</td>
</tr>
<tr>
<td>404</td>
<td>无法找到文件</td>
</tr>
<tr>
<td>500</td>
<td>内部服务器错误</td>
</tr>
<tr>
<td>403</td>
<td>服务器拒绝访问</td>
</tr>
<tr>
<td>301、302</td>
<td>请求重定向</td>
</tr>
<tr>
<td>400</td>
<td>无效的请求</td>
</tr>
<tr>
<td>401</td>
<td>未经过授权</td>
</tr>
<tr>
<td>503</td>
<td>服务器超负载或正停机维护，无法处理请求</td>
</tr>
</tbody></table>
<h4 id="ContentType的作用"><a href="#ContentType的作用" class="headerlink" title="ContentType的作用"></a>ContentType的作用</h4><p>ContentType决定浏览器采用何种方式<u>对响应体进行处理</u></p>
<blockquote>
<p>response.<strong>setContentType</strong>(“text&#x2F;html; charset&#x3D;utf-8”);</p>
</blockquote>
<table>
<thead>
<tr>
<th>MIME类型</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>text&#x2F;plain</td>
<td>纯文本</td>
</tr>
<tr>
<td>text&#x2F;html</td>
<td>HTML文档</td>
</tr>
<tr>
<td>text&#x2F;xml</td>
<td>XML文档</td>
</tr>
<tr>
<td>application&#x2F;x-msdownload</td>
<td>需要下载的资源</td>
</tr>
<tr>
<td>image&#x2F;jpeg<br />image&#x2F;gif<br />image&#x2F;…</td>
<td>图片资源</td>
</tr>
</tbody></table>
<pre><code class="java">protected void doGet(HttpServletRequest request, HttpServletResponse response)
    throws ServletException, IOException &#123;
        String output = &quot;&lt;h1&gt;&lt;a href=&#39;http://www.baidu.com&#39;&gt;&lt;span&gt;百度&lt;/span&gt;&lt;/a&gt;&lt;/h1&gt;&quot;;
        response.setContentType(&quot;text/html; charset=utf-8&quot;);
        response.getWriter().println(output);
    &#125;
</code></pre>
<h4 id="请求转发与重定向-二次跳转与定位"><a href="#请求转发与重定向-二次跳转与定位" class="headerlink" title="请求转发与重定向 [二次跳转与定位]"></a>请求转发与重定向 [二次跳转与定位]</h4><p>多个Servlet(JSP)之间跳转有两种方式：</p>
<ul>
<li><strong>request.getRequestDispatcher().forward()</strong> - <strong><u>请求转发</u></strong>[请求自发器]<br><u><span style =  "color : red"><strong>请求转发</strong></span></u>是服务器跳转，指挥产生一次请求</li>
<li><strong>response.sendRedirect()</strong> - <u><strong>响应重定向</strong></u><br><span style =  "color : red"><u><strong>响应重定向</strong></u></span>是浏览器端跳转，会产生两次请求</li>
<li><strong>request.setAttribute</strong>(属性名，属性值) - <u><strong>设置请求属性</strong></u><br><strong>Object attr &#x3D; request.getAttribute</strong>(属性名) - <u><strong>获取请求属性</strong></u><br>请求允许<span style =  "color : red"><u><strong>创建自定义属性</strong></u></span></li>
</ul>
<p><img src="https://raw.githubusercontent.com/P-luminary/images/26a7d7aac4670f1822db268025d446711c563373/data/%E8%AF%B7%E6%B1%82%E8%BD%AC%E5%8F%91%26%E5%93%8D%E5%BA%94%E9%87%8D%E5%AE%9A%E5%90%91.jpg"></p>
<pre><code class="java">CheckLoginServlet.java
package servlet;

import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import java.io.IOException;

@WebServlet(&quot;/direct/check&quot;)
public class CheckLoginServlet extends HttpServlet &#123;
    public CheckLoginServlet() &#123;
    &#125;

    @Override
   protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException &#123;
        System.out.println(&quot;用户登录成功&quot;);
        //创建自定义属性
        req.setAttribute(&quot;username&quot;,&quot;admin&quot;);

        //实现了请求转发的功能[从服务器内部由第一个servlet转到第二个] forward(请求 + 响应)
        req.getRequestDispatcher(&quot;/direct/index&quot;).forward(req, resp);
        //响应重定向需要增加contextPath[将请求第一次处理完后将响应重新发送一个新的请求給index servlet]
        resp.sendRedirect(&quot;/direct/index&quot;); //[结果已被重定向]
    &#125;
&#125;
==============================================================
indexServlet.java
package servlet;

import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import java.io.IOException;

@WebServlet(&quot;/direct/index&quot;)
public class indexServlet extends HttpServlet &#123;
    public indexServlet() &#123;
    &#125;

    @Override
    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException &#123;
        //接收创建的自定义属性
        String username = (String)req.getAttribute(&quot;username&quot;);
        resp.getWriter().println(&quot;This is index page!current username is &quot; + username);
    &#125;
&#125;
</code></pre>
<p><img src="https://raw.githubusercontent.com/P-luminary/images/21d4e05b16134a3e3817e60bffe174723c0b76c8/data/%E8%AF%B7%E6%B1%82%E8%BD%AC%E5%8F%91%E4%B8%8E%E9%87%8D%E5%AE%9A%E5%90%91.png"></p>
<h4 id="浏览器Cookie-浏览器重启但用户登录不会消失"><a href="#浏览器Cookie-浏览器重启但用户登录不会消失" class="headerlink" title="浏览器Cookie [浏览器重启但用户登录不会消失]"></a><span style = "color :red">浏览器Cookie</span> [浏览器重启但用户登录不会消失]</h4><ul>
<li>Cookie是浏览器保存在本地的文本内容</li>
<li>Cookie常用于保存登录状态、用户资料等小文本</li>
<li>Cookie具有时效性，Cookie内容会伴随请求发送給Tomcat</li>
<li>request.getCookies() 用户获取所有的Cookie</li>
<li>cookie.setMaxAge() 用户设置cookie保存的时间(单位：秒s)</li>
</ul>
<pre><code class="java">ImoocLoginServlet.java
package cookie;

import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.Cookie;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import java.io.IOException;

@WebServlet(&quot;/cookies/login&quot;)
public class ImoocLoginServlet extends HttpServlet &#123;
    public ImoocLoginServlet() &#123;
    &#125;

    @Override
    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException &#123;
        System.out.println(&quot;用户登录成功&quot;);
        Cookie cookie = new Cookie(&quot;user&quot;,&quot;admin&quot;);
        cookie.setMaxAge(60 * 60 * 24 * 7); //单位是秒 七天内有效
        resp.addCookie(cookie);
        resp.getWriter().println(&quot;login success&quot;);
    &#125;
&#125;

================================================================
ImoocIndexServlet.java
package cookie;

import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.Cookie;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import java.io.IOException;
@WebServlet(&quot;/cookies/index&quot;)
public class ImoocIndexServlet extends HttpServlet &#123;
    public ImoocIndexServlet() &#123;
    &#125;

    @Override
    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException &#123;
        Cookie[] cs = req.getCookies();
        String user = null;
        for (Cookie c : cs)&#123;
            System.out.println(c.getName() + &quot;:&quot; + c.getValue());
            if (c.getName().equals(&quot;user&quot;))&#123;
                user = c.getValue();
                break;
            &#125;
        &#125;
        if (user == null)&#123;
            resp.getWriter().println(&quot;user not login&quot;);
        &#125;else &#123;
            resp.getWriter().println(&quot;user:&quot; + user);
        &#125;
    &#125;
&#125;
</code></pre>
<h4 id="Session-用户会话"><a href="#Session-用户会话" class="headerlink" title="Session-用户会话"></a><span style = "color :red">Session-用户会话</span></h4><ul>
<li>Session(用户会话) 用于保存与 ”浏览器窗口“ 对应的数据</li>
<li>Session的数据存储在Tomcat服务器的内存中，具有时效性 </li>
<li>Session通过浏览器Cookie的SessionId值提取用户数据</li>
</ul>
<p>Session类似于是浏览器单独存储的空间，每个浏览器窗口所对应的Session空间是不同的；<br><strong>Session是与浏览器窗口绑定的且把数据存储在Tomcat内存中的对象</strong></p>
<img src="https://raw.githubusercontent.com/P-luminary/images/1682f14fb87d47dc55745ae307e9211ce6e4326f/data/Session%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86.png" style="zoom:50%;" />

<pre><code class="java">SessionLoginServlet.java
package session;

import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import javax.servlet.http.HttpSession;
import java.io.IOException;

@WebServlet(&quot;/session/login&quot;)
public class SessionLoginServlet extends HttpServlet &#123;
    public SessionLoginServlet() &#123;
    &#125;

    @Override
    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException &#123;
        System.out.println(&quot;用户登录成功&quot;);
        //获取到用户会话Session对象
        HttpSession session = req.getSession();
        String sessionId = session.getId(); //A99EA3178EDC7C490E29D8EC46930FC6
        System.out.println(sessionId);
        session.setAttribute(&quot;name&quot;,&quot;张三&quot;);
        req.getRequestDispatcher(&quot;/session/index&quot;).forward(req,resp); //请求转发
    &#125;
&#125;
============================================================================
SessionIndexServlet.java
package session;

import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import javax.servlet.http.HttpSession;
import java.io.IOException;

@WebServlet(&quot;/session/index&quot;)
public class SessionIndexServlet extends HttpServlet &#123;
    public SessionIndexServlet() &#123;
    &#125;

    @Override
    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException &#123;
        HttpSession session = req.getSession();
        String sessionId = session.getId(); //A99EA3178EDC7C490E29D8EC46930FC6
        System.out.println(sessionId);
        String name = (String)session.getAttribute(&quot;name&quot;);
        resp.setContentType(&quot;text/html;charset=utf-8&quot;);
        resp.getWriter().println(&quot;这是首页，当前用户为: &quot; + name);
    &#125;
&#125;
</code></pre>
<h3 id="Cookie-与-Session-区别"><a href="#Cookie-与-Session-区别" class="headerlink" title="Cookie 与 Session 区别"></a>Cookie 与 Session 区别</h3><blockquote>
<p>区别：<br>cookie数据保存在客户端，session数据保存在服务端。</p>
<p><strong>session</strong><br>简单的说，当你登陆一个网站的时候，如果web服务器端使用的是session，那么<strong>所有的数据都保存在服务器上</strong>，客户端每次请求服务器的时候会发送当前会话session_id，服务器根据当前session_id判断相应的用户数据标志，以确定用户是否登陆或具有某种权限。由于数据是存储在服务器上面，所以你不能伪造。</p>
<p><strong>cookie</strong><br>session_id是服务器和客户端连接时候随机分配的，如果浏览器使用的是cookie，那么<strong>所有数据都保存在浏览器端</strong>，比如你登陆以后，服务器设置了cookie用户名，那么当你再次请求服务器的时候，浏览器会将用户名一块发送给服务器，这些变量有一定的特殊标记。服务器会解释为cookie变量，所以只要不关闭浏览器，那么cookie变量一直是有效的，所以能够保证长时间不掉线。</p>
<p>如果你能够截获某个用户的cookie变量，然后伪造一个数据包发送过去，那么服务器还是 认为你是合法的。所以，<strong>使用cookie被攻击的可能性比较大。</strong></p>
<p>如果cookie设置了有效值，那么cookie会保存到客户端的硬盘上，下次在访问网站的时候，浏览器先检查有没有cookie，如果有的话，读取cookie，然后发送给服务器。</p>
<p><u>所以你在机器上面保存了某个论坛cookie，有效期是一年，如果有人入侵你的机器，将你的cookie拷走，放在他机器下面，那么他登陆该网站的时候就是用你的身份登陆的。当然，伪造的时候需要注意，直接copy cookie文件到 cookie目录，浏览器是不认的，他有一个index.dat文件，存储了 cookie文件的建立时间，以及是否有修改，所以你必须先要有该网站的 cookie文件，并且要从保证时间上骗过浏览器</u></p>
<p>两个都可以用来存私密的东西，<strong>session过期与否，取决于服务器的设定</strong>。<strong>cookie过期与否，可以在cookie生成的时候设置进去</strong>。</p>
<p>四、区别对比：<br>(1) cookie数据存放在客户的浏览器上，session数据放在服务器上<br>(2) cookie不是很安全，别人可以分析存放在本地的COOKIE并进行COOKIE欺骗,如果主要考虑到安全应当使用session<br>(3) session会在一定时间内保存在服务器上。当访问增多，会比较占用你服务器的性能，如果主要考虑到减轻服务器性能方面，应当使用COOKIE<br>(4) 单个cookie在客户端的限制是3K，就是说一个站点在客户端存放的COOKIE不能3K。<br>(5) 所以：将登陆信息等重要信息存放为SESSION;其他信息如果需要保留，可以放在COOKIE中</p>
</blockquote>
<h4 id="ServletContext"><a href="#ServletContext" class="headerlink" title="ServletContext"></a>ServletContext</h4><ul>
<li>ServletContext(Servlet上下文对象)，是Web应用全局对象</li>
<li>一个Web应用只会创建一个ServletContext对象</li>
<li>ServletContext随着Web应用启动而自动创建</li>
</ul>
<p>如果是session 则关闭一次浏览器sessionId就会发生变化 重新加载session<br>只要设置了自定义属性就会在全局生效 </p>
<h4 id="Java-Web三大作用域对象-作用域和生命周期依次递增"><a href="#Java-Web三大作用域对象-作用域和生命周期依次递增" class="headerlink" title="Java Web三大作用域对象 [作用域和生命周期依次递增]"></a>Java Web三大作用域对象 [<u>作用域</u>和<u>生命周期</u>依次递增]</h4><ul>
<li><span style = "color:red"><strong>HttpServletRequest - 请求对象</strong> </span><br>[<u>网页请求 Tomcat响应一次后销毁</u>]</li>
<li><strong>HttpSession - 用户会话对象</strong><br>[保存与浏览器窗口的数据 网页请求 Tomcat响应后有30分钟没有被访问则销毁]</li>
<li><strong>ServletContext - web应用全局对象</strong><br>[Web启动时被创建]</li>
</ul>
<p>能用小作用域完成开发的功能就尽量不要使用大作用域</p>
<h4 id="Web应用的中文乱码由来"><a href="#Web应用的中文乱码由来" class="headerlink" title="Web应用的中文乱码由来"></a>Web应用的中文乱码由来</h4><ul>
<li>Tomcat默认使用字符集ISO-8859-1，属于西欧字符集</li>
<li>解决乱码的核心思路是将ISO-8859-1转换为UTF-8</li>
<li>Servlet中请求与响应都需要设置UTF-8字符集</li>
</ul>
<pre><code class="java">Ⅰ.麻烦且不实用
String utf8Ename = new String(ename.getBytes(&quot;iso-8859-1&quot;), &quot;utf-8&quot;);
String utf8EAddress = new String(address.getBytes(&quot;iso-8859-1&quot;), &quot;utf-8&quot;);

Ⅱ.简便且实用 
写在★★doPost★★下面的第一行
request.setCharacterEncoding(&quot;UTF-8&quot;);
//对于Tomocat8.x的版本, 默认get请求发送中文就是UTF-8, 因此无需转换
写在★★doGet★★下面
response.setContentType(&quot;text/html;charset=utf-8&quot;);
</code></pre>
<h4 id="web-xml常用配置"><a href="#web-xml常用配置" class="headerlink" title="web.xml常用配置"></a><span style =  "color : red">web.xml常用配置</span></h4><ul>
<li>修改web应用默认首页</li>
<li>Servlet通配符映射及初始化参数</li>
<li>设置404、500等状态码默认页面</li>
</ul>
<pre><code class="xml">设置默认首页地址 =&gt; 在web.xml中 设置
设置后启动tomcat后自动弹出首页为student.html中的内容
&lt;welcome-file-list&gt;
  &lt;welcome-file&gt;student.html&lt;/welcome-file&gt;
&lt;/welcome-file-list&gt;
根目录/二级页面也可以查找默认首页
</code></pre>
<p><strong>模糊匹配</strong>：* [Servlet通配符]</p>
<p><strong>@WebServlet(“&#x2F;cookies&#x2F;*”)</strong></p>
<pre><code class="xml">☆ ☆ ☆ ☆ web.xml ☆ ☆ ☆ ☆
&lt;servlet&gt;
 &lt;servlet-name&gt;patternServlet&lt;/servlet-name&gt;
 &lt;servlet-class&gt;PatternServlet&lt;/servlet-class&gt;
&lt;/servlet&gt;
&lt;servlet-mapping&gt;
 &lt;servlet-name&gt;patternServlet&lt;/servlet-name&gt;
 &lt;url-pattern&gt;/pattern/*&lt;/url-pattern&gt;
&lt;/servlet-mapping&gt;
</code></pre>
<pre><code class="java">☆ ☆ ☆ ☆ PatternServlet.java ☆ ☆ ☆ ☆
public class PatternServlet extends HttpServlet&#123;
    @Override
    protected void service(HttpServletRequest request,HttpServletReasponse reasponse)&#123;
        //查询员工的基本信息 获取当前访问的URL
        String url = request.getRequestURL().toString();
        System.out.println(url);
        String id = url.substring(url.lastIndexOf(&quot;/&quot;) + 1);
        int eid =  Integer.parseInt(id);
        response.setContentType(&quot;text/html;charest=utf-8&quot;);
        PrintWriter out = response.getWriter();
        out.println(id);
        if(eid == 1) &#123;
            out.println(&quot;张三&quot;);
        &#125;else if(eid == 2) &#123;
            out.println(&quot;李四&quot;);
        &#125;else &#123;
            out.println(&quot;其他员工&quot;);
        &#125;
    &#125;
&#125;
</code></pre>
<h4 id="全局配置"><a href="#全局配置" class="headerlink" title="全局配置"></a>全局配置</h4><pre><code class="xml">这样做以后就可以直接修改xml里面的东西就好了
&lt;context-param&gt;
 &lt;param-name&gt;copyright&lt;/param-name&gt;
 &lt;param-value&gt;@ 2023 imooc.com 京ICP备 12003892号-22&lt;/param-value&gt;
&lt;/context-param&gt;
&lt;context-param&gt;
 &lt;param-name&gt;title&lt;/param-name&gt;
 &lt;param-value&gt;慕课网-程序员的梦工厂&lt;/param-value&gt;
&lt;/context-param&gt;
</code></pre>
<pre><code class="java">@WebServlet(&quot;/servletcontext/init&quot;)
public class ServletContextInitServlet extends HttpServlet &#123;
    public ServletContextInitServlet() &#123;
        super();
    &#125;
    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;
        ServletContext context = request.getServletContext();
        String copyright = context.getInitParameter(&quot;copyright&quot;);
        context.setAttribute(&quot;copyright&quot;, copyright);
        String title = context.getInitParameter(&quot;title&quot;);
        context.setAttribute(&quot;title&quot;, title);
        response.getWriter().println(&quot;init success&quot;);
    &#125;
&#125;
</code></pre>
<h4 id="针对404、500出现透露信息的bug处理方式"><a href="#针对404、500出现透露信息的bug处理方式" class="headerlink" title="针对404、500出现透露信息的bug处理方式"></a>针对404、500出现透露信息的bug处理方式</h4><pre><code class="html">☆ ☆ ☆ ☆ ☆ ☆ ☆ ☆ 404.html ☆ ☆ ☆ ☆ ☆ ☆ ☆ ☆
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta charset = &quot;UTF-8&quot;&gt;
&lt;title&gt;Insert title here&lt;/title&gt;    
&lt;/head&gt;
&lt;body&gt;
    资源不存在   
&lt;/body&gt;
&lt;/html&gt;

☆ ☆ ☆ ☆ ☆ ☆ ☆ ☆ 500.html ☆ ☆ ☆ ☆ ☆ ☆ ☆ ☆
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta charset = &quot;UTF-8&quot;&gt;
&lt;title&gt;Insert title here&lt;/title&gt;    
&lt;/head&gt;
&lt;body&gt;
    服务器内部错误，请联系管理员  
&lt;/body&gt;
&lt;/html&gt;

☆ ☆ ☆ ☆ ☆ ☆ ☆ ☆ web.xml ☆ ☆ ☆ ☆ ☆ ☆ ☆ ☆
&lt;!-- 指定错误页面 --&gt;
&lt;error-page&gt;
 &lt;error-code&gt;404&lt;/error-code&gt;
 &lt;location&gt;/error/404.html&lt;/location&gt;
&lt;/error-page&gt;
&lt;error-page&gt;
 &lt;error-code&gt;500&lt;/error-code&gt;
 &lt;location&gt;/error/500.html&lt;/location&gt;
&lt;/error-page&gt;
======================================================================
可以把404\500.html随时转换成 404\500.jsp
仅需在顶加上&lt;%@ page contentType=&quot;text/html;charset=utf-8&quot; isErrorPage=&quot;true&quot;%&gt;
isErrorPage=&quot;true&quot; 说明此jsp专门用于错误页面

&lt;%@ page contentType=&quot;text/html;charset=utf-8&quot; isErrorPage=&quot;true&quot;%&gt;
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta charset = &quot;UTF-8&quot;&gt;
&lt;title&gt;Insert title here&lt;/title&gt;    
&lt;/head&gt;
&lt;body&gt;
    服务器内部错误，请联系管理员，错误信息如下:
    &lt;%
        String msg = exception.getMessage();
        out.print(&quot;&lt;br&gt;&quot; + exception.getClass().getSimpleName() + &quot;:&quot; + msg);
        &lt;!--  NumberFormatException:For input String:&quot;&quot;  --&gt;
    %&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<h4 id="JSP九大内置对象-面试-x2F-笔试重点"><a href="#JSP九大内置对象-面试-x2F-笔试重点" class="headerlink" title="JSP九大内置对象[面试&#x2F;笔试重点]"></a><span style = "color : red">JSP九大内置对象</span>[面试&#x2F;笔试重点]</h4><table>
<thead>
<tr>
<th>内置对象</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>request</td>
<td>请求对象 -HttpServletRequest</td>
</tr>
<tr>
<td>response</td>
<td>响应对象 -HttpServletResponse</td>
</tr>
<tr>
<td>session</td>
<td>用户会话 -HttpSession</td>
</tr>
<tr>
<td>application</td>
<td>应用全局对象 -ServletContext</td>
</tr>
<tr>
<td>out</td>
<td>输出对象 -PrintWriter</td>
</tr>
<tr>
<td>page</td>
<td>当前页面对象 -this</td>
</tr>
<tr>
<td>pageContext</td>
<td>页面上下文对象 -PageContext</td>
</tr>
<tr>
<td>config</td>
<td>应用配置对象 -ServletConfig</td>
</tr>
<tr>
<td>exception</td>
<td>应用异常对象 -Throwable</td>
</tr>
</tbody></table>
<pre><code class="jsp">&lt;body&gt; &lt;!--内置了许多java的类--&gt;
    &lt;%
        String url = request.getRequesrURL().toString(); //HttpServletRequest
        response.getWriter().println(url); //HttpServletResponse
    %&gt;
    &lt;%
        out.println(&quot;&lt;br&gt;ABCCC&quot;);
        session.setAttribute(&quot;user&quot;,&quot;张三&quot;);
        out.println((String)session.getAttribute(&quot;user&quot;));
    %&gt;
    &lt;%
        String cp = application.getInitParameter(&quot;copyright&quot;); //ServletContext
        out.println(&quot;&lt;hr/&gt;&quot;);
        out.println(cp); 
        pageContext.getRequest(); //pageContext就像一个中转站
           pageContext.getResponse();
        pageContext.getSession();
        pageContext.getServletContext();
    %&gt;
&lt;/body&gt;
</code></pre>
<h4 id="Java-Web打包与发布"><a href="#Java-Web打包与发布" class="headerlink" title="Java Web打包与发布"></a><span style = "color : blue">Java Web打包与发布</span></h4><ul>
<li>Java Web应用采用war包进行发布</li>
<li>发布路径为：{TOMCAT_HOME}&#x2F;webapps</li>
<li>Eclipse支持war包导出</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_44741023/article/details/119298059">IDEA怎么把web项目打成war包最详细图文教程_idea web项目打成war包_Keeling1720的博客-CSDN博客</a><br><a target="_blank" rel="noopener" href="https://blog.csdn.net/github_38336924/article/details/82422888">IDEA 将项目打包war包_虚拟机安装tomcat_dadeity的博客-CSDN博客</a></p>
<h4 id="EL-Expression-Language-表达式"><a href="#EL-Expression-Language-表达式" class="headerlink" title="EL(Expression Language)表达式"></a>EL(Expression Language)表达式</h4><p>${student.name} &#x3D;&gt; [自定义属性名. 子属性]</p>
<ul>
<li>EL表达式用于简化JSP的输出</li>
<li>EL表达式的基本语法：**${表达式}**</li>
<li>示例：&lt; h1 &gt;学生姓名：**$(student.name)**  &lt; &#x2F;h1 &gt;</li>
</ul>
<pre><code class="java">StudentServlet.java
protected void doGet(...)&#123;
    Student stu = new Student();
    stu.setName(&quot;子墨&quot;);
    stu.setMobile(null);
    String grade = &quot;A&quot;;
    request.setAttribute(&quot;student&quot;,stu);
    request.setAttribute(&quot;grade&quot;,grade);
    request.getRequestDispatcher(&quot;/info.jsp&quot;).forward(request, response);

&#125;
</code></pre>
<pre><code class="jsp">☆ ☆ ☆ ☆ ☆ ☆ info.jsp ☆ ☆ ☆ ☆ ☆ ☆
&lt;body&gt;
    &lt;% 
        Student stu = (Student)request.getAttribute(&quot;student&quot;);
           Student grade = (Student)request.getAttribute(&quot;grade&quot;);
        out.println(&quot;姓名：&quot;+ stu.getName())
        out.println(&quot;姓名：&quot;+ stu.getMobile())
        out.println(&quot;姓名：&quot;+ grade)
    %&gt;
&lt;/body&gt;
☆ ☆ ☆ ☆ ☆ ☆ el_info.jsp ☆ ☆ ☆ ☆ ☆ ☆
&lt;body&gt;
    姓名: $&#123;requestScope.student.name&#125;
    手机: $&#123;requestScope.student.mobile&#125;
    评级: $&#123;requestScope.grade&#125;
&lt;/body&gt;
</code></pre>
<h4 id="作用域对象"><a href="#作用域对象" class="headerlink" title="作用域对象"></a>作用域对象</h4><ul>
<li>requestScope是EL作用域对象</li>
<li>EL表达式内置四种作用域对象</li>
<li>忽略书写作用域对象时，el则按作用域从小到大一次尝试获取</li>
</ul>
<table>
<thead>
<tr>
<th>作用域对象</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>pageScope</td>
<td>从当前页面取值</td>
</tr>
<tr>
<td>requestScope</td>
<td>从当前请求中获取属性值</td>
</tr>
<tr>
<td>sessionScope</td>
<td>从当前会话中获取属性值</td>
</tr>
<tr>
<td>applicationScope</td>
<td>从当前应用获取全局属性值</td>
</tr>
</tbody></table>
<p>姓名: ${requestScope.student.name} 其中的requestScope可以省略 el则按作用域从小到大一次尝试获取</p>
<h4 id="EL表达式输出-支持运算"><a href="#EL表达式输出-支持运算" class="headerlink" title="EL表达式输出 [支持运算]"></a>EL表达式输出 [支持运算]</h4><ul>
<li>语法：<span style = "color : red"><strong>${[作用域.]属性名[.子属性]}</strong></span></li>
<li>EL表达式支持对运算结果进行输出</li>
<li>EL支持绝大多数对象输出，<strong>本质是执行toString()方法</strong></li>
</ul>
<pre><code class="jsp">$&#123;title&#125;
$&#123;requestScope.student.name&#125;
$&#123;emp.salary + 300&#125;
$&#123;1&lt;=3 &amp;&amp; 2&gt;4&#125;
</code></pre>
<h4 id="EL输出参数值"><a href="#EL输出参数值" class="headerlink" title="EL输出参数值"></a>EL输出参数值</h4><ul>
<li>EL表达式内置<strong>param</strong>对象来简化参数的输出</li>
<li>语法：<span style = "color : red"> <strong>${param.参数名}</strong></span></li>
</ul>
<pre><code class="jsp">☆ ☆ ☆ ☆ ☆ ☆ el_info.jsp ☆ ☆ ☆ ☆ ☆ ☆
&lt;body&gt;
    姓名: $&#123;param.student.name&#125;
    手机: $&#123;param.student.mobile&#125;
    评级: $&#123;param.grade&#125;
&lt;/body&gt;
</code></pre>
<h4 id="JSTL-JSP-Standard-Tag-Libarary-标签库"><a href="#JSTL-JSP-Standard-Tag-Libarary-标签库" class="headerlink" title="JSTL(JSP Standard Tag Libarary) 标签库"></a>JSTL(JSP Standard Tag Libarary) 标签库</h4><ul>
<li>JSTL用于简化JSP开发，提高代码的可读性与可维护性</li>
<li>JSTL由SUN(Oracle)定义规范，由Apache Tomcat团队实现</li>
</ul>
<h4 id="安装JSTL标签库"><a href="#安装JSTL标签库" class="headerlink" title="安装JSTL标签库"></a>安装JSTL标签库</h4><ul>
<li>将Jar文件复制到工程的 <span style = "color : red"><strong>&#x2F;WEB-INF&#x2F;lib</strong></span> 目录</li>
<li>将Jar文件复制到Tomcat安装目录的<strong>lib</strong>目录</li>
</ul>
<table>
<thead>
<tr>
<th align="left">标签</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">&lt; c:out &gt;</td>
<td align="left">用于在JSP中显示数据，就像&lt;%&#x3D; … &gt;</td>
</tr>
<tr>
<td align="left">&lt; c:set &gt;</td>
<td align="left">用于保存数据</td>
</tr>
<tr>
<td align="left">&lt; c:remove &gt;</td>
<td align="left">用于删除数据</td>
</tr>
<tr>
<td align="left">&lt; c:catch &gt;</td>
<td align="left">用来处理产生错误的异常状况，并且将错误信息储存起来</td>
</tr>
<tr>
<td align="left">&lt; c:if &gt;</td>
<td align="left">与我们在一般程序中用的if一样</td>
</tr>
<tr>
<td align="left">&lt; c:choose &gt;</td>
<td align="left">本身只当做&lt;c:when&gt;和&lt;c:otherwise&gt;的父标签</td>
</tr>
<tr>
<td align="left">&lt; c:when &gt;</td>
<td align="left">&lt;c:choose&gt;的子标签，用来判断条件是否成立</td>
</tr>
<tr>
<td align="left">&lt; c:otherwise &gt;</td>
<td align="left">&lt;c:choose&gt;的子标签，接在&lt;c:when&gt;标签后，当&lt;c:when&gt;标签判断为false时被执行</td>
</tr>
<tr>
<td align="left">&lt; c:import &gt;</td>
<td align="left">检索一个绝对或相对 URL，然后将其内容暴露给页面</td>
</tr>
<tr>
<td align="left">&lt; c:forEach &gt;</td>
<td align="left">基础迭代标签，接受多种集合类型</td>
</tr>
<tr>
<td align="left">&lt; c:forTokens &gt;</td>
<td align="left">根据指定的分隔符来分隔内容并迭代输出</td>
</tr>
<tr>
<td align="left">&lt; c:param &gt;</td>
<td align="left">用来给包含或重定向的页面传递参数</td>
</tr>
<tr>
<td align="left">&lt; c:redirect &gt;</td>
<td align="left">重定向至一个新的URL.</td>
</tr>
<tr>
<td align="left">&lt; c:</td>
<td align="left">使用可选的查询参数来创造一个URL</td>
</tr>
</tbody></table>
<h4 id="JSTL的标签库种类"><a href="#JSTL的标签库种类" class="headerlink" title="JSTL的标签库种类"></a>JSTL的标签库种类</h4><ul>
<li>JSTL按功能划分可分为五类标签库</li>
</ul>
<table>
<thead>
<tr>
<th align="center">类别</th>
</tr>
</thead>
<tbody><tr>
<td align="center">核心标签库 - core</td>
</tr>
<tr>
<td align="center">格式化输出标签库 - fmt</td>
</tr>
<tr>
<td align="center">SQL操作标签库 - sql</td>
</tr>
<tr>
<td align="center">XML操作标签库 - xml</td>
</tr>
<tr>
<td align="center">函数标签库 - functions</td>
</tr>
</tbody></table>
<h4 id="引用JSTL核心库-“-lt-c-gt-”"><a href="#引用JSTL核心库-“-lt-c-gt-”" class="headerlink" title="引用JSTL核心库 [“&lt; c:?? &gt;”]"></a>引用JSTL核心库 [“&lt; c:?? &gt;”]</h4><ul>
<li>核心标签库 - core 是JSTL最重要的标签库，提供了JSTL的基础功能</li>
<li><strong>&lt;%@ taglib prefix &#x3D; “c”  uri &#x3D; “<a target="_blank" rel="noopener" href="http://java.sun.com/jsp/jstl/core&quot;">http://java.sun.com/jsp/jstl/core&quot;</a> %&gt;</strong> 引入标签库</li>
</ul>
<p> <span style = "color : red"><strong>&lt; c: ?? &gt; … &lt; &#x2F;c:?? &gt;</strong></span><br>&lt; c:out &gt;输出</p>
<h6 id="C标签c-forEach的用法"><a href="#C标签c-forEach的用法" class="headerlink" title="C标签c:forEach的用法"></a>C标签c:forEach的用法</h6><pre><code class="java">&lt;c:forEach var=&quot;name&quot; items=&quot;Collection&quot; varStatus=&quot;statusName&quot; begin=&quot;begin&quot; end=&quot;end&quot; step=&quot;step&quot;&gt;/c:forEach&gt;
该标签根据循环条件遍历集合 Collection 中的元素。 var 用于存储从集合中取出的元素；items 指定要遍历的集合；varStatus 用于存放集合中元素的信息

这个标签的目的就是要遍历

items: 就是你要遍历的集合,就是要遍历的全部内容要放在这个下面

var:  就是这个集合下面的每一个元素,比如一个集合&#123;1,2,3,4,5&#125;,那么var表示的就是1或者2或者3...

begin: 默认从0开始,表示从第几个开始取元素

end: 和begin对应,表示到第几个元素终止

step:  步进,默认是1,表示一个一个跳,还是任意数字跳

varStatus:  表示集合中每个元素的相关信息,有4种状态:index(所在位置，即索引).count(总共已迭代的次数).first(是否为第一个位置),last(是否为最后一个位置)
</code></pre>
<blockquote>
<p>request.getAttribute表示从request范围取得设置的属性，必须要先setAttribute设置属性，才能通过getAttribute来取得，设置与取得的为Object对象类型 。<br>1.放的时候：Double res &#x3D; new Double(result);&#x2F;&#x2F;包装<br>request.setAttribute(“result”, res);&#x2F;&#x2F;再设置进去<br>2.取的时候：Double res &#x3D; (Double)request.getAttribute(“result”);<br>double result &#x3D; res.doublue();<br>另外，需要注意的是使用request.setAttribute时不能使redirect而是forward。即是将请求转发而不是重定向.</p>
</blockquote>
<pre><code class="jsp">&lt;%@ page contentType=&quot;text/html;charset=GBK&quot; %&gt;
&lt;%@page import=&quot;java.util.List&quot; %&gt;
&lt;%@page import=&quot;java.util.ArrayList&quot; %&gt;
&lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;JSTL: -- forEach标签实例&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;h4&gt;&lt;c:out value=&quot;forEach实例&quot;/&gt;&lt;/h4&gt;
&lt;hr&gt;
&lt;%
    List a = new ArrayList();
    a.add(&quot;贝贝&quot;);
    a.add(&quot;晶晶&quot;);
    a.add(&quot;欢欢&quot;);
    a.add(&quot;莹莹&quot;);
    a.add(&quot;妮妮&quot;);
    request.setAttribute(&quot;a&quot;,a);
%&gt;
&lt;B&gt;&lt;c:out value=&quot;不指定begin和end的迭代&quot;/&gt;&lt;/B&gt;&lt;br&gt;
&lt;c:forEach var=&quot;fuwa&quot; items=&quot;$&#123;a&#125;&quot;&gt;
    &amp;nbsp;&lt;c:out value=&quot;$&#123;fuwa&#125;&quot;/&gt;&lt;br&gt;
&lt;/c:forEach&gt;

&lt;B&gt;&lt;c:out value=&quot;指定bigin和end的迭代&quot;/&gt;&lt;/B&gt;&lt;br&gt;
&lt;c:forEach var=&quot;fuwa&quot; items=&quot;$&#123;a&#125;&quot; begin=&quot;1&quot; end=&quot;3&quot; step=&quot;2&quot;&gt;
    &amp;nbsp;&lt;c:out value=&quot;$&#123;fuwa&#125;&quot;/&gt;&lt;br&gt;
&lt;/c:forEach&gt;

&lt;B&gt;&lt;c:out value=&quot;输出整个迭代信息&quot;/&gt;&lt;/B&gt;&lt;br&gt;
&lt;c:forEach var=&quot;fuwa&quot; items=&quot;$&#123;a&#125;&quot; begin=&quot;3&quot; end=&quot;4&quot; step=&quot;1&quot; varStatus=&quot;s&quot;&gt;
    &amp;nbsp;&lt;c:out value=&quot;$&#123;fuwa&#125;&quot;/&gt;的四种属性：&lt;br&gt;
    &amp;nbsp;&amp;nbsp;所在位置，即索引：&lt;c:out value=&quot;$&#123;s.index&#125;&quot;/&gt;&lt;br&gt;
    &amp;nbsp;&amp;nbsp;总共已迭代的次数：&lt;c:out value=&quot;$&#123;s.count&#125;&quot;/&gt;&lt;br&gt;
    &amp;nbsp;&amp;nbsp;是否为第一个位置：&lt;c:out value=&quot;$&#123;s.first&#125;&quot;/&gt;&lt;br&gt;
    &amp;nbsp;&amp;nbsp;是否为最后一个位置：&lt;c:out value=&quot;$&#123;s.last&#125;&quot;/&gt;&lt;br&gt;
&lt;/c:forEach&gt;
&lt;/body&gt;
&lt;/html&gt;

forEach实例
---------------------------------------------------------
不指定begin和end的迭代
 贝贝
 晶晶
 欢欢
 莹莹
 妮妮
指定bigin和end的迭代
 晶晶
 莹莹
输出整个迭代信息
 莹莹的四种属性：
  所在位置，即索引：3
  总共已迭代的次数：1
  是否为第一个位置：true
  是否为最后一个位置：false
 妮妮的四种属性：
  所在位置，即索引：4
  总共已迭代的次数：2
  是否为第一个位置：false
  是否为最后一个位置：true
</code></pre>
<h4 id="判断标签"><a href="#判断标签" class="headerlink" title="判断标签"></a>判断标签</h4><ul>
<li>JSTL核心库提供了两组判断的标签</li>
<li>&lt; c : if &gt; - 单分支判断</li>
<li>&lt; c:choose &gt;、&lt; c:when&gt;、&lt; c:otherwise &gt; - 多分支判断</li>
</ul>
<pre><code class="java">import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import java.io.IOException;

@WebServlet(&quot;/jstl&quot;)
public class JstlServlet extends HttpServlet &#123;
    public JstlServlet() &#123;
    &#125;

    @Override
    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException &#123;
        req.setAttribute(&quot;score&quot;,78);
        req.setAttribute(&quot;grade&quot;,&quot;B&quot;);
        req.getRequestDispatcher(&quot;/core.jsp&quot;).forward(req,resp);
    &#125;
&#125;
</code></pre>
<pre><code class="jsp">&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;
         pageEncoding=&quot;UTF-8&quot;%&gt;
&lt;!-- 在Java或者JSP文件中输入 Alt + / 可出现智能提示 --&gt;
&lt;%@ taglib  uri = &quot;http://java.sun.com/jsp/jstl/core&quot; prefix = &quot;c&quot; %&gt;
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;Insert title here&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;h1&gt;$&#123;requestScope.score&#125;&lt;/h1&gt;
&lt;c:if test = &quot;$&#123;score &gt;= 60 &#125;&quot;&gt;
    &lt;h1 style = &quot;color:green&quot;&gt;恭喜，你已通过测试&lt;/h1&gt;
&lt;/c:if&gt;
&lt;c:if test = &quot;$&#123;score &lt; 60 &#125;&quot;&gt;
    &lt;h1 style = &quot;color:red&quot;&gt;对不起，再接再厉&lt;/h1&gt;
&lt;/c:if&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<h4 id="遍历集合"><a href="#遍历集合" class="headerlink" title="遍历集合"></a>遍历集合</h4><ul>
<li>&lt; c:forEach &gt;标签用于遍历集合(Collection)中的每一个对象</li>
</ul>
<blockquote>
<p>c:if  和c:when  的区别<br>(1)c:when必须嵌套在c:choose<br>(2)&lt;c:if &#x2F;&gt; 或者  &lt;c:if &gt;&lt; &#x2F;c:if&gt;    &lt;c:when &gt;  &lt; &#x2F;c:when &gt;<br>(3)<strong>c:if  可以放回判断语句执行结果的值</strong> 而c:when不能<br>例如：&lt;c:if test&#x3D;”XXX” var&#x3D;”result” &#x2F;&gt;<br> &lt;c:out value&#x3D;”${result}”&gt;</c:out ><br>(4)when 可以有otherwise.相当于else. 而用if没有else配对.</p>
</blockquote>
<pre><code class="java">&lt;c:forEach var=&quot;p&quot; items=&quot;$&#123;persons&#125;&quot; varStatus=&quot;idx&quot;&gt;
第$&#123;idx.index + 1&#125;位 &lt;br/&gt;
姓名: $&#123;p.name&#125; 性别: $&#123;p.sex&#125; 年龄:$&#123;p.age&#125;
&lt;/c:forEach&gt;
</code></pre>
<pre><code class="jsp">JstlServlet.java
import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import java.io.IOException;
import java.util.ArrayList;
import java.util.List;

@WebServlet(&quot;/jstl&quot;)
public class JstlServlet extends HttpServlet &#123;
    public JstlServlet() &#123;
    &#125;

    @Override
    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException &#123;
        req.setAttribute(&quot;score&quot;,20);
        req.setAttribute(&quot;grade&quot;,&quot;E&quot;);
        List list = new ArrayList();
        list.add(new Company(&quot;腾讯&quot;, &quot;www.tencent.com&quot;));
        list.add(new Company(&quot;百度&quot;, &quot;www.baidu.com&quot;));
        list.add(new Company(&quot;慕课网&quot;, &quot;www.imooc.com&quot;));
        //把list放在当前请求中
        req.setAttribute(&quot;companies&quot;, list);
        req.getRequestDispatcher(&quot;/core.jsp&quot;).forward(req,resp);
    &#125;
&#125;
</code></pre>
<pre><code class="java">core.jsp
&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;
         pageEncoding=&quot;UTF-8&quot;%&gt;
&lt;!-- 在Java或者JSP文件中输入 Alt + / 可出现智能提示 --&gt;
&lt;%@ taglib  uri = &quot;http://java.sun.com/jsp/jstl/core&quot; prefix = &quot;c&quot; %&gt;
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;Insert title here&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;h1&gt;$&#123;requestScope.score&#125;&lt;/h1&gt;
&lt;c:if test = &quot;$&#123;score &gt;= 60 &#125;&quot;&gt;
    &lt;h1 style = &quot;color:green&quot;&gt;恭喜，你已通过测试&lt;/h1&gt;
&lt;/c:if&gt;
&lt;c:if test = &quot;$&#123;score &lt; 60 &#125;&quot;&gt;
    &lt;h1 style = &quot;color:red&quot;&gt;对不起，再接再厉&lt;/h1&gt;
&lt;/c:if&gt;
$&#123;grade&#125;
&lt;c:choose&gt;
    &lt;c:when test=&quot;$&#123;grade == &#39;A&#39;&#125;&quot;&gt;
        &lt;h2&gt;你很优秀&lt;/h2&gt;
    &lt;/c:when&gt;
    &lt;c:when test=&quot;$&#123;grade == &#39;B&#39;&#125;&quot;&gt;
        &lt;h2&gt;不错哟&lt;/h2&gt;
    &lt;/c:when&gt;
    &lt;c:when test=&quot;$&#123;grade == &#39;C&#39;&#125;&quot;&gt;
        &lt;h2&gt;水平一般，需要提高&lt;/h2&gt;
    &lt;/c:when&gt;
    &lt;c:when test=&quot;$&#123;grade == &#39;D&#39;&#125;&quot;&gt;
        &lt;h2&gt;需要努力，不要气馁&lt;/h2&gt;
    &lt;/c:when&gt;
    &lt;c:otherwise&gt;
        &lt;h2&gt;一切随缘吧&lt;/h2&gt;
    &lt;/c:otherwise&gt;
&lt;/c:choose&gt;
&lt;!-- forEach标签用于遍历集合 
        List companys = (List)request.getAttribute(&quot;companys&quot;)
        for(Company c : companys)&#123;
            out.print(&quot;...&quot;)
        &#125;
        idx = index
        idx.index属性代表循环的索引值（0开始）
    --&gt;
    &lt;c:forEach items=&quot;$&#123;requestScope.companies&#125;&quot; var=&quot;c&quot;&gt;
        &lt;h2 style=&quot;color: green&quot;&gt;$&#123;idx.index&#125;.$&#123;c.cname&#125;-$&#123;c.url&#125;&lt;/h2&gt;
    &lt;/c:forEach&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<h4 id="fmt格式化标签库"><a href="#fmt格式化标签库" class="headerlink" title="fmt格式化标签库"></a>fmt格式化标签库</h4><ul>
<li>fmt格式化标签库URl : <strong><a target="_blank" rel="noopener" href="http://java.sun.com/jsp/jstl/fmt">http://java.sun.com/jsp/jstl/fmt</a></strong></li>
<li>&lt; fmt:formatDate value &#x3D; “” pattern &#x3D; “” &gt; 格式化日期标签</li>
<li><strong>&lt; fmt:formatNumber value &#x3D; “” pattern &#x3D; “”&gt; 格式化数字标签</strong>，百分比，货币。</li>
</ul>
<pre><code class="java">import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import java.io.IOException;
import java.util.ArrayList;
import java.util.List;

@WebServlet(&quot;/jstl&quot;)
public class JstlServlet extends HttpServlet &#123;
    public JstlServlet() &#123;
    &#125;

    @Override
    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException &#123;
        req.setAttribute(&quot;score&quot;,20);
        req.setAttribute(&quot;grade&quot;,&quot;E&quot;);
        List list = new ArrayList();
        list.add(new Company(&quot;腾讯&quot;, &quot;www.tencent.com&quot;));
        list.add(new Company(&quot;百度&quot;, &quot;www.baidu.com&quot;));
        list.add(new Company(&quot;慕课网&quot;, &quot;www.imooc.com&quot;));
        //把list放在当前请求中
        req.setAttribute(&quot;companies&quot;, list);
        req.getRequestDispatcher(&quot;/core.jsp&quot;).forward(req,resp);
    &#125;
&#125;
</code></pre>
<pre><code class="jsp">&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;
&lt;%@ taglib prefix=&quot;fmt&quot; uri=&quot;http://java.sun.com/jsp/jstl/fmt&quot; %&gt;
&lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;Title&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;%
    request.setAttribute(&quot;amt&quot;, 123456.789);
    request.setAttribute(&quot;now&quot;, new java.util.Date());
    request.setAttribute(&quot;html&quot;,&quot;&lt;a href=&#39;index.html&#39;&gt;index&lt;/a&gt;&quot;);
    request.setAttribute(&quot;nothing&quot;,null);
%&gt;
&lt;h2&gt;$&#123;now &#125;&lt;/h2&gt;
&lt;!--
    formatDate pattern
    yyyy - 四位年
    MM - 两位月
    dd - 两位日
    HH - 24小时制
    hh - 12小时制
    mm - 分钟
    ss - 秒数
    SSS - 毫秒
--&gt;
&lt;h2&gt;
    &lt;fmt:formatDate value=&quot;$&#123;requestScope.now&#125;&quot; pattern=&quot;yyyy年MM月dd日HH时mm分ss秒SSS毫秒&quot;/&gt;
&lt;/h2&gt;
&lt;h2&gt;$&#123;amt&#125;&lt;/h2&gt;
&lt;h2&gt;￥&lt;fmt:formatNumber value = &quot;$&#123;amt&#125;&quot; pattern=&quot;0,000.00&quot;&gt;&lt;/fmt:formatNumber&gt;&lt;/h2&gt;
&lt;h2&gt;null默认值：&lt;c:out value=&quot;$&#123;nothing&#125;&quot; default=&quot;无&quot;&gt;&lt;/c:out&gt;&lt;/h2&gt;
&lt;h2&gt;&lt;c:out value=&quot;$&#123;html&#125;&quot; escapeXml=&quot;true&quot;&gt;&lt;/c:out&gt;&lt;/h2&gt; &lt;!--true时进行转译--&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<h4 id="使用IDEA写的web项目无法加载css、js或图片等文件的解决方法"><a href="#使用IDEA写的web项目无法加载css、js或图片等文件的解决方法" class="headerlink" title="使用IDEA写的web项目无法加载css、js或图片等文件的解决方法"></a>使用IDEA写的web项目无法加载css、js或图片等文件的解决方法</h4><ul>
<li>直接把css、js、图片等文件放在web目录下，这样就可以实现轻松访问！</li>
<li>在web-inf目录下找到web.xml文件，添加以下代码也可以实现正常访问！</li>
</ul>
<pre><code class="java">Employee.java
public class Employee &#123;
    private Integer empno;
    private String ename;
    private String department;
    private String job;
    private Float salary;
    ......
&#125;

CreateServlet.java
import javax.servlet.ServletContext;
import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import java.io.IOException;
import java.util.List;

@WebServlet(&quot;/create&quot;)
public class CreateServlet extends HttpServlet &#123;
    public CreateServlet() &#123;
    &#125;
    @Override
    protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException &#123;
        req.setCharacterEncoding(&quot;UTF-8&quot;);
        String empno = req.getParameter(&quot;empno&quot;);
        String ename = req.getParameter(&quot;ename&quot;);
        String department = req.getParameter(&quot;department&quot;);
        String job = req.getParameter(&quot;job&quot;);
        String salary = req.getParameter(&quot;salary&quot;);
        System.out.println(empno);
        Employee emp = new Employee(Integer.parseInt(empno),ename,department,job,Float.parseFloat(salary));
        ServletContext context = req.getServletContext();
        List employees = (List) context.getAttribute(&quot;employees&quot;);
        employees.add(emp); //追加
        context.setAttribute(&quot;employees&quot;, employees);
        req.getRequestDispatcher(&quot;/employee.jsp&quot;).forward(req,resp);
    &#125;
&#125;
</code></pre>
<pre><code class="java">ListServlet.java
import javax.servlet.ServletContext;
import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import java.io.IOException;
import java.util.ArrayList;
import java.util.List;

@WebServlet(&quot;/Login&quot;)
public class ListServlet extends HttpServlet &#123;
    public ListServlet() &#123;
    &#125;

    @Override
    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException &#123;        //获取对象
        ServletContext context = req.getServletContext();
        if (context.getAttribute(&quot;employees&quot;)==null) &#123;
            List list = new ArrayList();
            Employee emp = new Employee(7731, &quot;刘志敏&quot;, &quot;市场部&quot;, &quot;客户代表&quot;, 10000f);
            list.add(emp);
            list.add(new Employee(8871, &quot;潘春尧&quot;, &quot;研发部&quot;, &quot;运维工程师&quot;, 80000f));
            context.setAttribute(&quot;employees&quot;, list); //把list存放进去
        &#125;//servlet中传递值
        req.getRequestDispatcher(&quot;/employee.jsp&quot;).forward(req,resp);
    &#125;
&#125;
</code></pre>
<pre><code class="jsp">employee.jsp
&lt;%@ page contentType=&quot;text/html;charset=utf-8&quot; %&gt;
&lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;
&lt;%@ taglib prefix=&quot;fmt&quot; uri=&quot;http://java.sun.com/jsp/jstl/fmt&quot; %&gt;
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width,initial-scale=1&quot;&gt;
    &lt;title&gt;员工列表&lt;/title&gt;
    &lt;link href=&quot;./css/bootstrap.css&quot; type=&quot;text/css&quot; rel=&quot;stylesheet&quot;/&gt;
    &lt;script type=&quot;text/javascript&quot; src=&quot;./js/jquery-1.11.1.min.js&quot;&gt;&lt;/script&gt;
    &lt;script type=&quot;text/javascript&quot; src=&quot;./js/bootstrap.js&quot;&gt;&lt;/script&gt;

    &lt;style type=&quot;text/css&quot;&gt;
        .pagination &#123;
            margin: 0px
        &#125;

        .pagination &gt; li &gt; a, .pagination &gt; li &gt; span &#123;
            margin: 0 5px;
            border: 1px solid #dddddd;
        &#125;

        .glyphicon &#123;
            margin-right: 3px;
        &#125;

        .form-control[readonly] &#123;
            cursor: pointer;
            background-color: white;
        &#125;
        #dlgPhoto .modal-body&#123;
            text-align: center;
        &#125;
        .preview&#123;

            max-width: 500px;
        &#125;
    &lt;/style&gt;
    &lt;script&gt;
        $(function () &#123;
            
            $(&quot;#btnAdd&quot;).click(function () &#123;
                $(&#39;#dlgForm&#39;).modal()
            &#125;);
        &#125;)
    &lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;

&lt;div class=&quot;container&quot;&gt;
    &lt;div class=&quot;row&quot;&gt;
        &lt;h1 style=&quot;text-align: center&quot;&gt;IMOOC员工信息表&lt;/h1&gt;
        &lt;div class=&quot;panel panel-default&quot;&gt;
            &lt;div class=&quot;clearfix panel-heading &quot;&gt;
                &lt;div class=&quot;input-group&quot; style=&quot;width: 500px;&quot;&gt;
                    &lt;button class=&quot;btn btn-primary&quot; id=&quot;btnAdd&quot;&gt;&lt;span class=&quot;glyphicon glyphicon-zoom-in&quot;&gt;&lt;/span&gt;新增
                    &lt;/button&gt;
                &lt;/div&gt;
            &lt;/div&gt;

            &lt;table class=&quot;table table-bordered table-hover&quot;&gt;
                &lt;thead&gt;
                &lt;tr&gt;
                    &lt;th&gt;序号&lt;/th&gt;
                    &lt;th&gt;员工编号&lt;/th&gt;
                    &lt;th&gt;姓名&lt;/th&gt;
                    &lt;th&gt;部门&lt;/th&gt;
                    &lt;th&gt;职务&lt;/th&gt;
                    &lt;th&gt;工资&lt;/th&gt;
                    &lt;th&gt;&amp;nbsp;&lt;/th&gt;
                &lt;/tr&gt;
                &lt;/thead&gt;
                &lt;tbody&gt;
                &lt;c:forEach items=&quot;$&#123;applicationScope.employees&#125;&quot; var=&quot;emp&quot; varStatus=&quot;idx&quot;&gt;
                &lt;tr&gt;
                    &lt;td&gt;$&#123;idx.index + 1&#125;&lt;/td&gt;
                    &lt;td&gt;$&#123;emp.empno&#125;&lt;/td&gt;
                    &lt;td&gt;$&#123;emp.ename&#125;&lt;/td&gt;
                    &lt;td&gt;$&#123;emp.department&#125;&lt;/td&gt;
                    &lt;td&gt;$&#123;emp.job&#125;&lt;/td&gt;
                    &lt;td style=&quot;color: red;font-weight: bold&quot;&gt;￥&lt;fmt:formatNumber value=&quot;$&#123;emp.salary&#125;&quot; pattern=&quot;0,000.00&quot;&gt;&lt;/fmt:formatNumber&gt;&lt;/td&gt;
                &lt;/tr&gt;
                &lt;/c:forEach&gt;
                &lt;tr&gt;
                    &lt;td&gt;3&lt;/td&gt;
                    &lt;td&gt;7839&lt;/td&gt;
                    &lt;td&gt;张丽&lt;/td&gt;
                    &lt;td&gt;研发部&lt;/td&gt;
                    &lt;td&gt;运维工程师&lt;/td&gt;
                    &lt;td style=&quot;color: red;font-weight: bold&quot;&gt;￥8,820.00&lt;/td&gt;
                    
                &lt;/tr&gt;
                &lt;/tbody&gt;
            &lt;/table&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;

&lt;!-- 表单 --&gt;
&lt;div class=&quot;modal fade&quot; tabindex=&quot;-1&quot; role=&quot;dialog&quot; id=&quot;dlgForm&quot;&gt;
    &lt;div class=&quot;modal-dialog&quot; role=&quot;document&quot;&gt;
        &lt;div class=&quot;modal-content&quot;&gt;
            &lt;div class=&quot;modal-header&quot;&gt;
                &lt;button type=&quot;button&quot; class=&quot;close&quot; data-dismiss=&quot;modal&quot; aria-label=&quot;Close&quot;&gt;&lt;span aria-hidden=&quot;true&quot;&gt;&amp;times;&lt;/span&gt;
                &lt;/button&gt;
                &lt;h4 class=&quot;modal-title&quot;&gt;新增员工&lt;/h4&gt;
            &lt;/div&gt;
            &lt;div class=&quot;modal-body&quot;&gt;
                &lt;form action=&quot;/untitled_war_exploded/create&quot; method=&quot;post&quot; &gt;
                    &lt;div class=&quot;form-group&quot;&gt;
                        &lt;label for=&quot;empno&quot;&gt;员工编号&lt;/label&gt;
                        &lt;input type=&quot;text&quot; name=&quot;empno&quot; class=&quot;form-control&quot; id=&quot;empno&quot; placeholder=&quot;请输入员工编号&quot;&gt;
                    &lt;/div&gt;
                    &lt;div class=&quot;form-group&quot;&gt;
                        &lt;label for=&quot;ename&quot;&gt;员工姓名&lt;/label&gt;
                        &lt;input type=&quot;text&quot; name=&quot;ename&quot; class=&quot;form-control&quot; id=&quot;ename&quot; placeholder=&quot;请输入员工姓名&quot;&gt;
                    &lt;/div&gt;
                    &lt;div class=&quot;form-group&quot;&gt;
                        &lt;label&gt;部门&lt;/label&gt;
                        &lt;select id=&quot;dname&quot; name=&quot;department&quot; class=&quot;form-control&quot;&gt;
                            &lt;option selected=&quot;selected&quot;&gt;请选择部门&lt;/option&gt;
                            &lt;option value=&quot;市场部&quot;&gt;市场部&lt;/option&gt;
                            &lt;option value=&quot;研发部&quot;&gt;研发部&lt;/option&gt;
                            &lt;option value=&quot;后勤部&quot;&gt;后勤部&lt;/option&gt;
                        &lt;/select&gt;
                    &lt;/div&gt;

                    &lt;div class=&quot;form-group&quot;&gt;
                        &lt;label&gt;职务&lt;/label&gt;
                        &lt;input type=&quot;text&quot; name=&quot;job&quot; class=&quot;form-control&quot; id=&quot;sal&quot; placeholder=&quot;请输入职务&quot;&gt;
                    &lt;/div&gt;

                    &lt;div class=&quot;form-group&quot;&gt;
                        &lt;label for=&quot;sal&quot;&gt;工资&lt;/label&gt;
                        &lt;input type=&quot;text&quot; name=&quot;salary&quot; class=&quot;form-control&quot; id=&quot;sal&quot; placeholder=&quot;请输入工资&quot;&gt;
                    &lt;/div&gt;

                    &lt;div class=&quot;form-group&quot; style=&quot;text-align: center;&quot;&gt;
                        &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot;&gt;保存&lt;/button&gt;
                    &lt;/div&gt;
                &lt;/form&gt;
            &lt;/div&gt;

        &lt;/div&gt;&lt;!-- /.modal-content --&gt;
    &lt;/div&gt;&lt;!-- /.modal-dialog --&gt;
&lt;/div&gt;&lt;!-- /.modal --&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>

    </div>

    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
    <div id="comment">
        <div id="gitalk-container">
        </div>
    </div>
    
</div>
                     
<footer id="footer">
    <div class="footer-wrap">
        <div>
            © 2018 - 2026 P-luminary
            <span class="footer-icon">
                <a-icon type="flag" theme="filled" /></span>
            @Asuna
        </div>
        <div></div>
        <div>Based on the <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo Engine</a>
<!--         & <a target="_blank" rel="noopener" href="https://github.com/korilin/hexo-theme-particle">Particle Theme</a></div> -->
        
    </div>

</footer>

<script src="/js/highlight.min.js"></script>
<script src="/js/particle.js"></script>
                </div>
            </div>
        </transition>
    </div>

    <script>
    new Vue({
        el: "#layout",
        data: {
            show_page: false,
            onload_menu: false,
            menu_show: false,
            card_top: 100
        },
        created: function () {
            var that = this
            window.onload = function () {
                that.show_page = true
                document.getElementById("loadcontent").style.opacity = 0
                setTimeout(function () {
                    document.getElementById("loadleft").style.width = 0
                    document.getElementById("loadright").style.width = 0
                }, 300)
                setTimeout(function () {
                    document.getElementById("loading").style = "display:none"
                }, 600)
            }
        },
        mounted: function () {
            var that = this
            window.addEventListener('scroll', function (e) {
                that.menu_show = false
            })
        },
        methods: {
            home_click: function () {
                window.scrollTo({
                    top: window.innerHeight - 80,
                    behavior: "smooth",
                });
            }
        }
    })
</script>

<script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>
<script>
    const gitalk = new Gitalk({
        clientID: '',
        clientSecret: '',
        repo: 'hexo-theme-particle',      // The repository of store comments,
        owner: 'P-luminary',
        admin: ['P-luminary'],
        language: 'en',
        id: location.pathname,      // Ensure uniqueness and length less than 50
        distractionFreeMode: true  // Facebook-like distraction free mode
    })
    gitalk.render('gitalk-container')
</script>

</body>

</html>